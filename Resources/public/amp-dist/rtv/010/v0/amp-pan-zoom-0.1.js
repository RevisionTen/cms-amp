(self.AMP=self.AMP||[]).push({n:"amp-pan-zoom",v:"0",f:(function(AMP,_){
var g,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},n;if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var q;a:{var ba={a:!0},ca={};try{ca.__proto__=ba;q=ca.a;break a}catch(a){}q=!1}n=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var da=n;
function r(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(da)da(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.zb=b.prototype};function ea(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function fa(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ha=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function u(){if(t.dev)return t.dev;throw Error("failed to call initLogConstructor");}function ia(a,b,c,d){if(!t.user)throw Error("failed to call initLogConstructor");t.user.assert(a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var ja=Object.prototype.hasOwnProperty;function ka(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var e=a.AMP_CONFIG[d];"number"===typeof e&&0<=e&&1>=e&&(c[d]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=d.indexOf(e[f])&&(c[e[f]]=!0)}Object.assign(c,la(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){d=a.AMP_CONFIG["allow-url-opt-in"];e=a.location.originalHash||a.location.hash;a=Object.create(null);if(e)for(var h;h=ha.exec(e);)f=fa(h[1],h[1]),h=h[2]?fa(h[2].replace(/\+/g," "),h[2]):"",a[f]=h;for(e=0;e<d.length;e++)f=a["e-"+d[e]],"1"==f&&(c[d[e]]=!0),"0"==f&&(c[d[e]]=
!1)}}var k=c;return!!k[b]}function la(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){u().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var ma={},v=(ma["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},ma);function na(a){var b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c;var e=c;if(ka(e,"ampdoc-fie")){e.__AMP_EXPERIMENT_BRANCHES=e.__AMP_EXPERIMENT_BRANCHES||{};for(var f in v)if(ja.call(v,f)&&!ja.call(e.__AMP_EXPERIMENT_BRANCHES,f))if(v[f].isTrafficEligible&&v[f].isTrafficEligible(e)){if(!e.__AMP_EXPERIMENT_BRANCHES[f]&&ka(e,f)){var h=v[f].branches;e.__AMP_EXPERIMENT_BRANCHES[f]=h[Math.floor(Math.random()*h.length)]||null}}else e.__AMP_EXPERIMENT_BRANCHES[f]=null;e="21065002"===
(e.__AMP_EXPERIMENT_BRANCHES?e.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else e=!1;var k=e;d&&!k?a=w(b,"action")?x(b,"action"):null:(a=y(a),a=oa(a),a=w(a,"action")?x(a,"action"):null);return a}function z(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return x(a,b)}function pa(a){var b=y(a);b=oa(b);return x(b,"owners")}function y(a){return a.nodeType?z((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function oa(a){a=y(a);return a.isSingleDoc()?a.win:a}
function x(a,b){w(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function w(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function A(a,b,c,d){var e=new qa(a,b,c,d);return e.solveYValueFromXValue.bind(e)}function qa(a,b,c,d){var e=1,f=1;this.y0=this.x0=0;this.x1=a;this.y1=b;this.x2=c;this.y2=d;this.x3=e;this.y3=f}g=qa.prototype;g.solveYValueFromXValue=function(a){return this.getPointY(this.solvePositionFromXValue(a))};
g.solvePositionFromXValue=function(a){var b=1E-6,c=(a-this.x0)/(this.x3-this.x0);if(0>=c)return 0;if(1<=c)return 1;for(var d=0,e=1,f=0,h=0;8>h;h++){f=this.getPointX(c);var k=(this.getPointX(c+b)-f)/b;if(Math.abs(f-a)<b)return c;if(Math.abs(k)<b)break;else f<a?d=c:e=c,c-=(f-a)/k}for(h=0;Math.abs(f-a)>b&&8>h;h++)f<a?(d=c,c=(c+e)/2):(e=c,c=(c+d)/2),f=this.getPointX(c);return c};
g.getPointX=function(a){if(0==a)return this.x0;if(1==a)return this.x3;var b=this.lerp(this.x0,this.x1,a),c=this.lerp(this.x1,this.x2,a),d=this.lerp(this.x2,this.x3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)};g.getPointY=function(a){if(0==a)return this.y0;if(1==a)return this.y3;var b=this.lerp(this.y0,this.y1,a),c=this.lerp(this.y1,this.y2,a),d=this.lerp(this.y2,this.y3,a);b=this.lerp(b,c,a);c=this.lerp(c,d,a);return this.lerp(b,c,a)};g.lerp=function(a,b,c){return a+c*(b-a)};
var ra=A(.25,.1,.25,1),sa=A(.42,0,1,1),ta=A(0,0,.58,1),ua=A(.42,0,.58,1),va={linear:function(a){return a},ease:ra,"ease-in":sa,"ease-out":ta,"ease-in-out":ua};function wa(a){if(!a)return null;if("string"==typeof a){if(-1!=a.indexOf("cubic-bezier")){var b=a.match(/cubic-bezier\((.+)\)/);if(b&&(b=b[1].split(",").map(parseFloat),4==b.length)){for(var c=0;4>c;c++)if(isNaN(b[c]))return null;return A(b[0],b[1],b[2],b[3])}return null}return va[a]}return a};function xa(){}function B(a){var b;this.P=a;this.W=b||z(self,"vsync");this.Qa=null;this.G=[]}function ya(a,b,c){var d=za;return(new B(a)).setCurve(d).add(0,b,1).start(c)}B.prototype.setCurve=function(a){a&&(this.Qa=wa(a));return this};B.prototype.add=function(a,b,c,d){this.G.push({delay:a,func:b,duration:c,curve:wa(d)});return this};B.prototype.start=function(a){var b=new C(this.W,this.P,this.G,this.Qa,a);return b};
function C(a,b,c,d,e){this.W=a;this.P=b;this.G=[];for(b=0;b<c.length;b++){var f=c[b];this.G.push({delay:f.delay,func:f.func,duration:f.duration,curve:f.curve||d,started:!1,completed:!1})}this.ob=e;this.V=Date.now();this.U=!0;this.gb={};c=new ea;this.ka=c.promise;this.Ha=c.resolve;this.Ga=c.reject;this.ib=this.W.createAnimTask(this.P,{mutate:this.xb.bind(this)});this.W.canAnimate(this.P)?this.ib(this.gb):(u().warn("Animation","cannot animate"),D(this,!1,0))}
C.prototype.then=function(a,b){return a||b?this.ka.then(a,b):this.ka};C.prototype.thenAlways=function(a){a=a||xa;return this.then(a,a)};C.prototype.halt=function(a){D(this,!1,a||0)};function D(a,b,c){if(a.U){a.U=!1;if(0!=c){1<a.G.length&&a.G.sort(function(a,b){return a.delay+a.duration-(b.delay+b.duration)});try{if(0<c)for(c=0;c<a.G.length;c++)a.G[c].func(1,!0);else for(var d=a.G.length-1;0<=d;d--)a.G[d].func(0,!1)}catch(e){u().error("Animation","completion failed: "+e,e),b=!1}}b?a.Ha():a.Ga()}}
C.prototype.xb=function(){if(this.U){for(var a=Date.now(),b=Math.min((a-this.V)/this.ob,1),c=0;c<this.G.length;c++){var d=this.G[c];!d.started&&b>=d.delay&&(d.started=!0)}for(c=0;c<this.G.length;c++)if(d=this.G[c],d.started&&!d.completed)a:{var e;if(0<d.duration){var f=e=Math.min((b-d.delay)/d.duration,1);if(d.curve&&1!=f)try{f=d.curve(e)}catch(h){u().error("Animation","step curve failed: "+h,h);D(this,!1,0);break a}}else f=e=1;1==e&&(d.completed=!0);try{d.func(f,d.completed)}catch(h){u().error("Animation",
"step mutate failed: "+h,h),D(this,!1,0)}}1==b?D(this,!0,0):this.W.canAnimate(this.P)?this.ib(this.gb):(u().warn("Animation","cancel animation"),D(this,!1,0))}};function E(){this.H=null}g=E.prototype;g.add=function(a){var b=this;this.H||(this.H=[]);this.H.push(a);return function(){b.remove(a)}};g.remove=function(a){this.H&&(a=this.H.indexOf(a),-1<a&&this.H.splice(a,1))};g.removeAll=function(){this.H&&(this.H.length=0)};g.fire=function(a){if(this.H)for(var b=this.H,c=0;c<b.length;c++)(0,b[c])(a)};g.getHandlerCount=function(){return this.H?this.H.length:0};function F(a,b){var c,d=this;this.jb=z(a,"timer");this.pb=b;this.nb=c||0;this.la=-1;this.Aa=0;this.U=!1;this.mb=function(){d.oa()}}F.prototype.isPending=function(){return-1!=this.la};F.prototype.schedule=function(a){a=a||this.nb;this.U&&10>a&&(a=10);var b=Date.now()+a;return!this.isPending()||-10>b-this.Aa?(this.cancel(),this.Aa=b,this.la=this.jb.delay(this.mb,a),!0):!1};F.prototype.oa=function(){this.la=-1;this.Aa=0;this.U=!0;this.pb();this.U=!1};
F.prototype.cancel=function(){this.isPending()&&(this.jb.cancel(this.la),this.la=-1)};function Aa(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};function Ba(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}
function Ca(a,b,c){this.N=a;this.l=[];this.ca=[];this.K=[];this.o=[];this.c=null;this.ub=b;this.vb=c;this.ua=!1;this.oa=new F(a.ownerDocument.defaultView,this.Sa.bind(this));this.eb=new E;this.ja=Object.create(null);this.Na=this.tb.bind(this);this.La=this.rb.bind(this);this.Ma=this.sb.bind(this);this.Ka=this.qb.bind(this);this.N.addEventListener("touchstart",this.Na);this.N.addEventListener("touchend",this.La);this.N.addEventListener("touchmove",this.Ma);this.N.addEventListener("touchcancel",this.Ka);
this.Ba=!1}function Da(a){var b=void 0===b?!1:b;var c=void 0===c?!1:c;var d=a.__AMP_Gestures;d||(d=new Ca(a,b,c),a.__AMP_Gestures=d);return d}g=Ca.prototype;g.cleanup=function(){this.N.removeEventListener("touchstart",this.Na);this.N.removeEventListener("touchend",this.La);this.N.removeEventListener("touchmove",this.Ma);this.N.removeEventListener("touchcancel",this.Ka);delete this.N.__AMP_Gestures;this.oa.cancel()};
g.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.ja[d];e||(this.l.push(c),e=new E,this.ja[d]=e);return e.add(b)};g.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.ja[b]){a.removeAll();a=Aa(this.l,function(a){return a.getType()==b});if(0>a)return!1;this.l.splice(a,1);this.K.splice(a,1);this.o.splice(a,1);this.ca.splice(a,1);delete this.ja[b];return!0}return!1};g.onPointerDown=function(a){return this.eb.add(a)};
g.tb=function(a){var b=Date.now();this.ua=!1;this.eb.fire(a);for(var c=0;c<this.l.length;c++)if(!this.K[c]&&(this.o[c]&&this.o[c]<b&&G(this,c),this.l[c].onTouchStart(a))){var d=c;this.ca[d]=!0;this.o[d]=0}H(this,a)};g.sb=function(a){for(var b=Date.now(),c=0;c<this.l.length;c++)this.ca[c]&&(this.o[c]&&this.o[c]<b?G(this,c):this.l[c].onTouchMove(a)||G(this,c));H(this,a)};
g.rb=function(a){for(var b=Date.now(),c=0;c<this.l.length;c++)if(this.ca[c])if(this.o[c]&&this.o[c]<b)G(this,c);else{this.l[c].onTouchEnd(a);var d=!this.o[c],e=this.o[c]<b,f=this.c==this.l[c];f||!d&&!e||G(this,c)}H(this,a)};g.qb=function(a){for(var b=0;b<this.l.length;b++){var c=b;this.K[c]=0;G(this,c)}H(this,a)};
function H(a,b){var c=!!a.c||a.ua;a.ua=!1;if(!c)for(var d=Date.now(),e=0;e<a.l.length;e++)if(a.K[e]||a.o[e]&&a.o[e]>=d){c=!0;break}c?(b.stopPropagation(),a.ub||b.preventDefault()):a.vb&&b.stopPropagation();a.Ba&&(a.Ba=!1,a.Sa())}
g.Sa=function(){for(var a=Date.now(),b=-1,c=0;c<this.l.length;c++)if(!this.K[c])this.o[c]&&this.o[c]<a&&G(this,c);else if(-1==b||this.K[c]>this.K[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.l.length;c++)!this.K[c]&&this.ca[c]&&(d=Math.max(d,this.o[c]-a));if(2>d){a=b;c=this.l[a];for(var e=0;e<this.l.length;e++)if(e!=a){var f=e;this.K[f]=0;G(this,f)}this.K[a]=0;this.o[a]=0;this.c=c;c.acceptStart()}else this.oa.schedule(d)}};function G(a,b){a.ca[b]=!1;a.o[b]=0;a.K[b]||a.l[b].acceptCancel()}
function I(a,b){this.yb=a;this.na=b}g=I.prototype;g.getType=function(){return this.yb};g.signalReady=function(a){var b=this.na;if(b.c)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.l.length;d++)b.l[d]==this&&(b.K[d]=c+a,b.o[d]=0);b.Ba=!0}};g.signalPending=function(a){var b=this.na;if(b.c)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.l.length;d++)b.l[d]==this&&(b.o[d]=c+a)};g.signalEnd=function(){var a=this.na;a.c==this&&(a.c=null,a.ua=!0)};
g.signalEmit=function(a,b){var c=this.na.ja[this.getType()];c&&c.fire(new Ba(this.getType(),a,Date.now(),b))};g.acceptStart=function(){};g.acceptCancel=function(){};g.onTouchStart=function(){return!1};g.onTouchMove=function(){return!1};g.onTouchEnd=function(){};function Ea(){}var Fa=Math.round(-16.67/Math.log(.95));function J(a,b,c){1>b&&(b=1);var d=a/b,e=.5+Math.min(b/33.34,.5);return d*e+c*(1-e)}function Ga(a,b,c,d,e,f){return(new Ha(a,b,c,d,e,f)).start()}function Ha(a,b,c,d,e,f){this.W=z(self,"vsync");this.P=a;this.va=f;this.h=b;this.j=c;this.ya=d;this.za=e;this.F=this.D=0;a=new ea;this.ka=a.promise;this.Ha=a.resolve;this.Ga=a.reject;this.da=!1}g=Ha.prototype;
g.start=function(){this.da=!0;if(.02>=Math.abs(this.ya)&&.02>=Math.abs(this.za))this.va(this.h,this.j),this.wa(!0);else{this.D=this.ya;this.F=this.za;var a=this.wb.bind(this),b=this.wa.bind(this,!0);this.W.runAnimMutateSeries(this.P,a,5E3).then(b,b)}return this};g.halt=function(){this.da&&this.wa(!1)};g.then=function(a,b){return a||b?this.ka.then(a,b):this.ka};g.thenAlways=function(a){a=a||Ea;return this.then(a,a)};
g.wb=function(a,b){if(!this.da)return!1;this.h+=b*this.D;this.j+=b*this.F;if(!this.va(this.h,this.j))return!1;var c=Math.exp(-a/Fa);this.D=this.ya*c;this.F=this.za*c;return.02<Math.abs(this.D)||.02<Math.abs(this.F)};g.wa=function(a){this.da&&(this.da=!1,this.va(this.h,this.j),a?this.Ha():this.Ga())};function K(a){I.call(this,"tap",a);this.j=this.h=this.B=this.A=0;this.hb=null}r(K,I);K.prototype.onTouchStart=function(a){var b=a.touches;this.hb=a.target;return b&&1==b.length?(this.A=b[0].clientX,this.B=b[0].clientY,!0):!1};K.prototype.onTouchMove=function(a){return(a=a.changedTouches||a.touches)&&1==a.length&&(this.h=a[0].clientX,this.j=a[0].clientY,a=8<=Math.abs(this.j-this.B),8<=Math.abs(this.h-this.A)||a)?!1:!0};K.prototype.onTouchEnd=function(){this.signalReady(0)};
K.prototype.acceptStart=function(){this.signalEmit({clientX:this.h,clientY:this.j,target:this.hb},null);this.signalEnd()};function L(a){I.call(this,"doubletap",a);this.ma=this.j=this.h=this.B=this.A=0;this.Ta=null}r(L,I);g=L.prototype;g.onTouchStart=function(a){return 1<this.ma?!1:(a=a.touches)&&1==a.length?(this.A=a[0].clientX,this.B=a[0].clientY,this.h=a[0].clientX,this.j=a[0].clientY,!0):!1};
g.onTouchMove=function(a){return(a=a.touches)&&1==a.length?(this.h=a[0].clientX,this.j=a[0].clientY,a=8<=Math.abs(this.j-this.B),8<=Math.abs(this.h-this.A)||a?(this.acceptCancel(),!1):!0):!1};g.onTouchEnd=function(a){this.ma++;2>this.ma?this.signalPending(200):(this.Ta=a,this.signalReady(0))};g.acceptStart=function(){this.ma=0;this.signalEmit({clientX:this.h,clientY:this.j},this.Ta);this.signalEnd()};g.acceptCancel=function(){this.ma=0};
function M(a,b,c,d){I.call(this,a,b);this.Ua=c;this.lb=d;this.c=!1;this.F=this.D=this.T=this.O=this.V=this.Fa=this.Ea=this.j=this.h=this.B=this.A=0}r(M,I);g=M.prototype;g.onTouchStart=function(a){a=a.touches;return this.c&&a&&1<a.length?!0:a&&1==a.length?(this.V=Date.now(),this.A=a[0].clientX,this.B=a[0].clientY,!0):!1};
g.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.h=b;this.j=c;if(this.c)this.R(!1,!1,a);else if(a=Math.abs(b-this.A),b=Math.abs(c-this.B),this.Ua&&this.lb)(8<=a||8<=b)&&this.signalReady(-10);else if(this.Ua)if(8<=a&&a>b)this.signalReady(-10);else{if(8<=b)return!1}else if(this.lb)if(8<=b&&b>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1;return!0}return!1};g.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.xa(a)};
g.acceptStart=function(){this.c=!0;this.Ea=this.A;this.Fa=this.B;this.T=this.V;this.A=this.h;this.B=this.j;this.R(!0,!1,null)};g.acceptCancel=function(){this.c=!1};
g.R=function(a,b,c){this.O=Date.now();var d=this.O-this.T;if(!b&&4<d||b&&16<d){var e=J(this.h-this.Ea,d,this.D),f=J(this.j-this.Fa,d,this.F);if(!b||32<d||0!=e||0!=f)this.D=1E-4<Math.abs(e)?e:0,this.F=1E-4<Math.abs(f)?f:0;this.Ea=this.h;this.Fa=this.j;this.T=this.O}this.signalEmit({first:a,last:b,time:this.O,deltaX:this.h-this.A,deltaY:this.j-this.B,startX:this.A,startY:this.B,lastX:this.h,lastY:this.j,velocityX:this.D,velocityY:this.F},c)};g.xa=function(a){this.c&&(this.c=!1,this.R(!1,!0,a),this.signalEnd())};
function N(a){M.call(this,"swipe-xy",a,!0,!0)}r(N,M);function O(a){I.call(this,"pinch",a);this.c=!1;this.F=this.D=this.T=this.O=this.V=this.Pa=this.Oa=this.Da=this.Ca=this.ha=this.fa=this.ga=this.ea=this.ba=this.$=this.aa=this.Z=0}r(O,I);g=O.prototype;g.onTouchStart=function(a){a=a.touches;return a?1==a.length||this.c&&2<a.length?!0:2==a.length?(this.V=Date.now(),this.Z=a[0].clientX,this.aa=a[0].clientY,this.$=a[1].clientX,this.ba=a[1].clientY,!0):!1:!1};
g.onTouchMove=function(a){var b=a.touches;if(!b||0==b.length)return!1;if(1==b.length)return!0;this.ea=b[0].clientX;this.ga=b[0].clientY;this.fa=b[1].clientX;this.ha=b[1].clientY;if(this.c)return this.R(!1,!1,a),!0;a=this.ea-this.Z;b=this.ga-this.aa;var c=this.fa-this.$,d=this.ha-this.ba,e=10<=Math.abs(a+c),f=10<=Math.abs(b+d);if((0<a*c||0<b*d)&&(e||f))return!1;a=this.ea-this.Z;b=this.ga-this.aa;c=this.fa-this.$;d=this.ha-this.ba;e=4<=Math.abs(a-c);f=4<=Math.abs(b-d);0>=a*c&&0>=b*d&&(e||f)&&this.signalReady(0);
return!0};g.onTouchEnd=function(a){var b=a.touches;b&&2>b.length&&this.xa(a)};g.acceptStart=function(){this.c=!0;this.T=this.V;this.Da=this.Ca=0;this.Oa=.5*(this.Z+this.$);this.Pa=.5*(this.aa+this.ba);this.R(!0,!1,null)};g.acceptCancel=function(){this.c=!1};
g.R=function(a,b,c){this.O=Date.now();var d=this.O-this.T,e=Math.abs(this.ea-this.Z-(this.fa-this.$)),f=Math.abs(this.ga-this.aa-(this.ha-this.ba));if(!b&&4<d||b&&16<d)this.D=J(e-this.Ca,d,this.D),this.F=J(f-this.Da,d,this.F),this.D=1E-4<Math.abs(this.D)?this.D:0,this.F=1E-4<Math.abs(this.F)?this.F:0,this.Ca=e,this.Da=f,this.T=this.O;d=this.Z;var h=this.$,k=this.aa,l=this.ba,p=(d-h)*(d-h)+(k-l)*(k-l);d=this.ea;h=this.fa;k=this.ga;l=this.ha;var m=(d-h)*(d-h)+(k-l)*(k-l);this.signalEmit({first:a,last:b,
time:this.O,centerClientX:this.Oa,centerClientY:this.Pa,dir:Math.sign(m-p),deltaX:.5*e,deltaY:.5*f,velocityX:.5*this.D,velocityY:.5*this.F},c)};g.xa=function(a){this.c&&(this.c=!1,this.R(!1,!0,a),this.signalEnd())};var P,Ia="Webkit webkit Moz moz ms O o".split(" ");function Q(a,b){for(var c in b){var d=a,e=b[c];var f=d.style;var h=c;if(2>h.length?0:0==h.lastIndexOf("--",0))f=h;else{P||(P=Object.create(null));var k=P[h];if(!k){k=h;if(void 0===f[h]){var l=h;l=l.charAt(0).toUpperCase()+l.slice(1);b:{for(var p=0;p<Ia.length;p++){var m=Ia[p]+l;if(void 0!==f[m]){l=m;break b}}l=""}void 0!==f[l]&&(k=l)}P[h]=k}f=k}f&&(d.style[f]=e)}};function Ja(a,b){return Math.sqrt(a*a+b*b)};var R;function Ka(a,b,c){var d=void 0,e=a,f=c;var h=function(a){try{return f(a)}catch(m){throw self.__AMP_REPORT_ERROR(m),m;}};var k=La(),l=!1;d&&(l=d.capture);e.addEventListener(b,h,k?d:l);return function(){e&&e.removeEventListener(b,h,k?d:l);h=e=f=null}}function La(){if(void 0!==R)return R;R=!1;try{var a={get capture(){R=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return R};function Ma(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function S(a,b,c){return Ka(a,b,c)};function Na(a,b,c,d){return{left:a,top:b,width:c,height:d,bottom:b+d,right:a+c,x:a,y:b}};function Oa(a,b){return function(c){return a+(b-a)*c}};var za=A(.4,0,.2,1.4),Pa={svg:!0,DIV:!0,"AMP-IMG":!0,"AMP-LAYOUT":!0,"AMP-SELECTOR":!0};function Qa(a){a=AMP.BaseElement.call(this,a)||this;a.C=null;a.Ja=null;a.qa=0;a.pa=0;a.w=null;a.X=null;a.ta=null;a.m=1;a.Ia=1;a.Y=1;a.S=3;a.Wa=0;a.Xa=0;a.Va=1;a.A=0;a.B=0;a.I=0;a.J=0;a.$a=0;a.ab=0;a.Ya=0;a.Za=0;a.M=null;a.ia=null;a.fb=!1;a.L=null;a.Ra=!1;a.kb=null;a.sa=null;a.ra=null;a.cb=0;a.bb=0;return a}r(Qa,AMP.BaseElement);g=Qa.prototype;
g.buildCallback=function(){var a=this;this.Ja=na(this.element);var b=this.getRealChildren();ia(1==b.length,"%s should have its target element as its one and only child","amp-pan-zoom");ia(Pa[b[0].tagName],"%s is not supported by %s",b[0].tagName,"amp-pan-zoom");this.element.classList.add("i-amphtml-pan-zoom");this.C=b[0];this.C.classList.add("i-amphtml-pan-zoom-child");this.S=T(this,"max-scale",3);this.Va=T(this,"initial-scale",1);this.Wa=T(this,"initial-x",0);this.Xa=T(this,"initial-y",0);this.fb=
this.element.hasAttribute("reset-on-resize");this.Ra=this.element.hasAttribute("disable-double-tap");this.registerAction("transform",function(b){var c=b.args;if(c)return a.transform(c.x||0,c.y||0,c.scale||1)})};g.transform=function(a,b,c){var d=this;U(this,c);var e=V(this,a,!1),f=W(this,b,!1);return X(this,c,e,f,!0).then(function(){return Ra(d)})};g.onMeasureChanged=function(){this.fb&&Sa(this)};g.layoutCallback=function(){Ta(this);pa(this.element).scheduleLayout(this.element,this.C);return Sa(this).then(Ua(this))};
g.pauseCallback=function(){Va(this)};g.resumeCallback=function(){this.C&&pa(this.element).scheduleLayout(this.element,this.C);Ua(this)};g.unlayoutCallback=function(){Va(this);return!0};g.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"fill"==a||"responsive"==a};
function Ta(a){a.L=a.element.ownerDocument.createElement("div");a.L.classList.add("amp-pan-zoom-in-icon");a.L.classList.add("amp-pan-zoom-button");a.L.addEventListener("click",function(){a.L.classList.contains("amp-pan-zoom-in-icon")?(a.transform(0,0,a.S),Wa(a)):(a.transform(0,0,a.Y),Xa(a))});a.element.appendChild(a.L)}function T(a,b,c){a=a.element;return a.hasAttribute(b)?parseInt(a.getAttribute(b),10):c}
function Sa(a){return a.mutateElement(function(){Q(a.C,{width:"",height:""})}).then(function(){return a.measureMutateElement(function(){a.qa=a.C.scrollWidth;a.pa=a.C.scrollHeight;var b=a.qa/a.pa;a.w=a.getViewport().getLayoutRect(a.element);var c=Math.min(a.w.width/b,a.w.height),d=Math.min(a.w.height*b,a.w.width);16>=Math.abs(d-a.qa)&&16>=Math.abs(c-a.pa)&&(d=a.qa,c=a.pa);a.X=Na(0,0,Math.round(d),Math.round(c));c=a.w;c=c.width/c.height;b=Math.max(c/b,b/c);isNaN(b)||(a.S=Math.max(a.S,b));a.Ia=a.m=a.Va;
a.A=a.I=a.Wa;a.B=a.J=a.Xa},function(){Q(a.C,{width:a.X.width+"px",height:a.X.height+"px"})},a.C)}).then(function(){var b=a.C.getBoundingClientRect();b=Na(Number(b.left),Number(b.top),Number(b.width),Number(b.height));a.X.top=b.top-a.w.top;a.X.left=b.left-a.w.left;U(a,a.m);return Y(a)})}function Ua(a){Ya(a);a.kb=S(a.element,"mousedown",function(b){return Za(a,b)})}function Z(a){a&&a()}function Va(a){a.M&&(a.M.cleanup(),a.M=null);Z(a.kb);Z(a.ra);Z(a.sa)}
function Za(a,b){if(2!=b.button){b.preventDefault();var c=b.clientX;b=b.clientY;Z(a.ra);Z(a.sa);a.bb=c;a.cb=b;a.ra=S(a.element,"mousemove",function(b){b.preventDefault();$a(a,b.clientX-a.bb,b.clientY-a.cb)});a.sa=S(a.win,"mouseup",function(b){b.preventDefault();ab(a);Z(a.ra);Z(a.sa)})}}
function Ya(a){a.M||(a.M=Da(a.element),a.M.onPointerDown(function(){a.ia&&a.ia.halt()}),a.M.onGesture(O,function(b){return a.handlePinch(b.data)}),a.Ra||(a.M.onGesture(L,function(b){return a.handleDoubleTap(b.data)}),a.M.onGesture(K,function(b){b=b.data;var c=Ma(a.win,"click",null,{bubbles:!0});b.target.dispatchEvent(c)})))}g.handleDoubleTap=function(a){var b=this;return bb(this,a.clientX,a.clientY).then(function(){return Ra(b)})};
g.handlePinch=function(a){var b=this,c=a.centerClientX,d=a.centerClientY,e=a.last;return cb(this,c,d,a.deltaX,a.deltaY,a.dir).then(function(){if(e)return Ra(b)})};g.handleSwipe=function(a){var b=this,c=a.last,d=a.velocityX,e=a.velocityY;return $a(this,a.deltaX,a.deltaY).then(function(){if(c)return db(b,d,e)})};function eb(a){a.ta=a.M.onGesture(N,function(b){return a.handleSwipe(b.data)})}function V(a,b,c){var d=.25*a.w.width;c=c&&1<a.m?d:0;return Math.min(Math.max(b,a.$a-c),a.Ya+c)}
function W(a,b,c){var d=.25*a.w.height;c=c&&1<a.m?d:0;return Math.min(Math.max(b,a.ab-c),a.Za+c)}function U(a,b){var c=a.X,d=c.width,e=c.left,f=c.height,h=c.top;c=a.w;var k=c.width,l=c.height;a.$a=Math.min(0,k-(e+d*(b+1)/2));a.Ya=Math.max(0,(d*b-d)/2-e);a.ab=Math.min(0,l-(h+f*(b+1)/2));a.Za=Math.max(0,(f*b-f)/2-h)}
function Y(a){var b=a.m,c=a.I,d=a.J,e=a.C;return a.mutateElement(function(){var a=c;var h=d;"number"==typeof a&&(a+="px");void 0===h?a="translate("+a+")":("number"==typeof h&&(h+="px"),a="translate("+a+", "+h+")");Q(e,{transform:a+" scale("+(b+")")})},e)}function $a(a,b,c){var d=!1,e=V(a,a.A+b,!0),f=W(a,a.B+c,!0);return X(a,a.m,e,f,d)}
function db(a,b,c){a.ia=Ga(a.C,a.I,a.J,b,c,function(b,c){b=V(a,b,!0);c=W(a,c,!0);if(1>Math.abs(b-a.I)&&1>Math.abs(c-a.J))return!1;X(a,a.m,b,c,!1);return!0});return a.ia.thenAlways(function(){a.ia=null;return ab(a)})}function bb(a,b,c){var d=a.m==a.Y?a.S:a.Y;b=a.w.width/2-(b-(a.w.left-a.getViewport().getScrollLeft()));c=a.w.height/2-(c-(a.w.top-a.getViewport().getScrollTop()));return fb(a,d,b,c,!0)}
function cb(a,b,c,d,e,f){if(0==f)return Promise.resolve();var h=a.w,k=h.width;h=h.height;var l=Ja(d,e);d=a.Ia*(1+f*l/100);var p=k/2-(b-(a.w.left-a.getViewport().getScrollLeft())),m=h/2-(c-(a.w.top-a.getViewport().getScrollTop()));return fb(a,d,Math.min(l/100,1)*p,Math.min(l/100,1)*m,!1)}function fb(a,b,c,d,e){b=Math.min(Math.max(b,a.Y-.25),a.S+.25);if(b==a.m)return Promise.resolve();U(a,b);c=V(a,a.A+c*b,!1);d=W(a,a.B+d*b,!1);return X(a,b,c,d,e)}
function Xa(a){a.L&&(a.L.classList.add("amp-pan-zoom-in-icon"),a.L.classList.remove("amp-pan-zoom-out-icon"))}function Wa(a){a.L&&(a.L.classList.remove("amp-pan-zoom-in-icon"),a.L.classList.add("amp-pan-zoom-out-icon"))}function Ra(a){return ab(a).then(function(){a.m<=a.Y?(a.ta&&(a.ta(),a.ta=null,a.M.removeGesture(N)),Xa(a),a.C.classList.remove("i-amphtml-pan-zoom-scrollable")):(eb(a),Wa(a),a.C.classList.add("i-amphtml-pan-zoom-scrollable"))})}
function X(a,b,c,d,e){var f=b-a.m,h=Ja(c-a.I,d-a.J),k=e?250*Math.min(1,Math.max(.01*h,Math.abs(f))):0;if(16<k&&e){var l=Oa(a.m,b),p=Oa(a.I,c),m=Oa(a.J,d);return ya(a.C,function(b){a.m=l(b);a.I=p(b);a.J=m(b);Y(a)},k).thenAlways(function(){a.m=b;a.I=c;a.J=d;Y(a)})}a.m=b;a.I=c;a.J=d;return Y(a)}
function ab(a){var b=Math.min(Math.max(a.m,a.Y-0),a.S+0);b!=a.m&&U(a,b);var c=V(a,a.I/a.m*b,!1),d=W(a,a.J/a.m*b,!1);return X(a,b,c,d,!0).then(function(){a.Ia=a.m;a.A=a.I;a.B=a.J;var b=Ma(a.win,"amp-pan-zoom.transformEnd",{scale:a.m,x:a.I,y:a.J});a.Ja.trigger(a.element,"transformEnd",b,100);a.element.dispatchCustomEvent("transformEnd")})}(function(a){a.registerElement("amp-pan-zoom",Qa,".i-amphtml-pan-zoom{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-pan-zoom-child{position:absolute}.i-amphtml-pan-zoom-scrollable{cursor:all-scroll}.amp-pan-zoom-button{position:absolute;right:12px;width:36px;height:36px;bottom:12px;background-repeat:no-repeat;background-position:50%;box-shadow:1px 1px 2px;background-color:#fff;border-radius:3px}.amp-pan-zoom-in-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}.amp-pan-zoom-out-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19 13H5v-2h14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\")}\n/*# sourceURL=/extensions/amp-pan-zoom/0.1/amp-pan-zoom.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-pan-zoom-0.1.js.map
