(self.AMP=self.AMP||[]).push({n:"amp-experiment",v:"0",f:(function(AMP,_){
var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},k;if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var n;a:{var ca={a:!0},da={};try{da.__proto__=ca;n=da.a;break a}catch(a){}n=!1}k=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ea=k;function fa(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function ha(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ia=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function p(a){var b=Object.create(null);if(!a)return b;for(var c;c=ia.exec(a);){var d=ha(c[1],c[1]),e=c[2]?ha(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var q="";var ja=Object.prototype.toString;function r(a){return"[object Object]"===ja.call(a)};var t=self.AMP_CONFIG||{},ka={thirdParty:t.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:t.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof t.thirdPartyFrameRegex?new RegExp(t.thirdPartyFrameRegex):t.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:t.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof t.cdnProxyRegex?new RegExp(t.cdnProxyRegex):t.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:t.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:t.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/]};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function v(){if(!u.user)throw Error("failed to call initLogConstructor");return u.user}function w(){if(u.dev)return u.dev;throw Error("failed to call initLogConstructor");}function x(a,b,c,d,e,f){return v().assert(a,b,c,d,e,f,void 0,void 0,void 0,void 0,void 0)};var y=Object.prototype.hasOwnProperty;function la(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function z(a){return a||{}};function B(){var a=100;this.H=a;this.o=this.A=0;this.m=Object.create(null)}B.prototype.has=function(a){return!!this.m[a]};B.prototype.get=function(a){var b=this.m[a];if(b)return b.access=++this.o,b.payload};B.prototype.put=function(a,b){this.has(a)||this.A++;this.m[a]={payload:b,access:this.o};if(!(this.A<=this.H)){w().warn("lru-cache","Trimming LRU cache");a=this.m;var c=this.o+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.A--)}};function ma(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};var na=z({c:!0,v:!0,a:!0,ad:!0,action:!0}),C,oa,qa=/[?&]amp_js[^&]*/,ra=/[?&]amp_gsa[^&]*/,sa=/[?&]amp_r[^&]*/,ta=/[?&]amp_kit[^&]*/,ua=/[?&]usqp[^&]*/;
function D(a){var b;C||(C=self.document.createElement("a"),oa=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new B));var c=b?null:oa,d=C;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;
e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;d=self;if(d.__AMP_MODE)d=d.__AMP_MODE;else{var f=self.AMP_CONFIG||{};var g=!!f.test||!1;var h=p(d.location.originalHash||d.location.hash);f=f.spt;var m=p(d.location.search);q||(q=d.AMP_CONFIG&&d.AMP_CONFIG.v?d.AMP_CONFIG.v:"010");g={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(h.development)||d.AMP_DEV_MODE),examiner:"2"==h.development,geoOverride:h["amp-geo"],
userLocationOverride:h["amp-user-location"],minified:!0,lite:void 0!=m.amp_lite,test:g,log:h.log,version:"0",rtvVersion:q,singlePassType:f};d=d.__AMP_MODE=g}e=d.test&&Object.freeze?Object.freeze(e):e;c&&c.put(a,e);a=e}return a};function E(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var e=a.AMP_CONFIG[d];"number"===typeof e&&0<=e&&1>=e&&(c[d]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=d.indexOf(e[f])&&(c[e[f]]=!0)}Object.assign(c,va(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length)for(d=a.AMP_CONFIG["allow-url-opt-in"],a=p(a.location.originalHash||a.location.hash),e=0;e<d.length;e++)f=a["e-"+d[e]],"1"==f&&(c[d[e]]=!0),"0"==f&&(c[d[e]]=!1)}var g=c;return!!g[b]}
function va(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){w().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var wa={},F=(wa["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},wa);function xa(a){var b=ya,c=G(a),d=H(c),e=d,f=I(e),g=f["origin-experiments"];g||(g=f["origin-experiments"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});g.ctor||g.obj||(g.ctor=b,g.context=c,g.resolve&&J(e,"origin-experiments"))}function K(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return J(a,b)}function za(a,b){var c=G(a);c=H(c);return J(c,b)}function L(a,b){a=H(a);var c=Aa(a,b);c?b=c:(a=I(a),a[b]=Ba(),b=a[b].promise);return b}
function G(a){return a.nodeType?K((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function H(a){a=G(a);return a.isSingleDoc()?a.win:a}function J(a,b){M(a,b);var c=I(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Aa(a,b){var c=I(a)[b];if(c){if(c.promise)return c.promise;J(a,b);return c.promise=Promise.resolve(c.obj)}return null}function I(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}
function M(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function Ba(){var a=new fa,b=a,c=b.promise,d=b.resolve;b=b.reject;c.catch(function(){});return{obj:null,promise:c,resolve:d,reject:b,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function Ca(a){return Da(a).then(function(a){return x(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager","amp-user-notification","amp-user-notification","amp-user-notification")})}
function Da(a){var b=Aa(H(a),"userNotificationManager");if(b)return b;var c=G(a);return c.waitForBodyOpen().then(function(){var a=c.win;var b=c.win.document.head;if(b){var f={};b=b.querySelectorAll("script[custom-element],script[custom-template]");for(var g=0;g<b.length;g++){var h=b[g];h=h.getAttribute("custom-element")||h.getAttribute("custom-template");f[h]=!0}f=Object.keys(f)}else f=[];a=f.includes("amp-user-notification")?K(a,"extensions").waitForExtension(a,"amp-user-notification"):Promise.resolve();
return a}).then(function(){var b=c.win;return b.__AMP_EXTENDED_ELEMENTS&&b.__AMP_EXTENDED_ELEMENTS["amp-user-notification"]?L(a,"userNotificationManager"):null})};var Ea=/^[\w-]+$/;function N(a){this.ampdoc=a;this.G=new fa}N.prototype.init=function(a){var b=this;a.then(function(a){return b.G.resolve(a)})};N.prototype.getVariants=function(){return this.G.promise};N.prototype.whenReady=function(){return this.getVariants()};
function Fa(a,b,c){O(b);Ga(b,c);var d=a.getParam("amp-x-"+b);if(d&&y.call(c.variants,d))return Promise.resolve(d);var e=!1!==c.sticky,f=c.cidScope||"amp-experiment",g=Promise.resolve(!0);if(e&&c.consentNotificationId){var h=a.getHeadNode();g=Ca(h).then(function(a){return a.getNotification(c.consentNotificationId)}).then(function(a){x(a,"Notification not found: "+c.consentNotificationId);return a.isDismissed()})}return g.then(function(d){if(!d)return null;var g=c.group||b;return Ha(a,g,e?f:null).then(function(a){for(var b=
0,d=c.variants,e=Object.keys(d).sort(),f=0;f<e.length;f++)if(b+=d[e[f]].weight,a<b)return e[f];return null})})}
function Ga(a,b){var c=b.variants;x(r(c)&&0<Object.keys(c).length,"Missing variants object from experiment.");b.group&&O(b.group);var d=0,e;for(e in c)if(y.call(c,e)){O(e);var f=c[e];b=f;var g=a,h=e;x(r(b),g+".variants."+h+" must be an object.");x(void 0!==b.weight&&"number"===typeof b.weight,g+".variants."+h+" must have a number weight.");var m=b.weight;x(0<m&&100>m,"Invalid weight percentage %s. "+(g+".variants."+h)+" Has to be greater than 0 and less than 100",m);x(b.mutations&&Array.isArray(b.mutations),
g+".variants."+h+" must have a mutations array.");var l=f.weight;d+=l}x(100>=d.toFixed(6),"Total percentage is bigger than 100: "+d)}function Ha(a,b,c){if(!c)return Promise.resolve(100*a.win.Math.random());var d=L(a,"cid").then(function(a){return a.get({scope:c,createCookieIfNotPresent:!0},Promise.resolve())});return Promise.all([d,K(a.win,"crypto")]).then(function(a){return a[1].uniform(b+":"+a[0])}).then(function(a){return 100*a})}
function O(a){x(Ea.test(a),"Invalid name: %s. Allowed chars are [a-zA-Z0-9-_].",a)};var P,Ia="Webkit webkit Moz moz ms O o".split(" ");function Q(a){var b=JSON.stringify(a);x(void 0!==a.value&&"string"===typeof a.value,"Mutation %s must have a value.",b);x(void 0!==a.attributeName&&"string"===typeof a.attributeName,"Mutation %s must have a attributeName.",b)};function R(a,b){this.h=a;this.j=b;Q(this.h)}R.prototype.parseAndValidate=function(){return this.h.value.match(/(^|\\W)i-amphtml-/)?!1:!0};R.prototype.mutate=function(){var a=this;this.j.forEach(function(b){b.setAttribute(a.h.attributeName,a.h.value)})};R.prototype.toString=function(){return JSON.stringify(this.h)};var Ja=/\S/,S=/.*/,Ka={color:S,"background-color":S,visibility:/^hidden$/,display:/^none$/,position:/^(static|relative|absolute|initial|inherit)$/,"font-size":S,"background-image":S,"border-width":S,"border-style":S,"border-color":S},La={width:S,height:S};function T(a,b){this.h=a;this.j=b;this.F=z({});this.D=!1;Q(this.h)}
T.prototype.parseAndValidate=function(){var a=this.h.value;if(a.match(/(!\s*important|<)/))return!1;for(var b=0;b<this.j.length;b++){var c=this.j[b].tagName;if(ma(c,"AMP-")&&"AMP-STICKY-AD-TOP-PADDING"!=c&&"AMP-BODY"!=c){this.D=!0;break}}var d=a.split(";");for(a=0;a<d.length;a++)if(Ja.test(d[a])){var e=d[a].split(":");if(2!=e.length)return!1;b=e[0].trim();c=e[1].trim();if(!(!this.D&&y.call(La,b)&&c.match(La[b])||y.call(Ka,b)&&c.match(Ka[b])))return v().error("amp-experiment/style","Unsupported style mutation property: %s, value: %s",
b,c),!1;this.F[b]=c}return!0};
T.prototype.mutate=function(){var a=this;this.j.forEach(function(b){var c=a.F;"display"in c&&w().error("STYLE","`display` style detected in styles. You must use toggle instead.");for(var d in c){var e=b,f=c[d];var g=e.style;var h=d;if(ma(h,"--"))g=h;else{P||(P=la());var m=P[h];if(!m){m=h;if(void 0===g[h]){var l=h;l=l.charAt(0).toUpperCase()+l.slice(1);b:{for(var A=0;A<Ia.length;A++){var pa=Ia[A]+l;if(void 0!==g[pa]){l=pa;break b}}l=""}void 0!==g[l]&&(m=l)}P[h]=m}g=m}g&&(e.style[g]=f)}})};
T.prototype.toString=function(){return JSON.stringify(this.h)};var Ma=["AMP-IMG","AMP-IFRAME","A"];function U(a,b){this.h=a;this.j=b;Q(this.h)}
U.prototype.parseAndValidate=function(){for(var a=0;a<this.j.length;a++)if(0>Ma.indexOf(this.j[a].tagName))return!1;try{var b=this.h.value,c=this.h.target;a="attributes mutation";a=void 0===a?"source":a;x(null!=b,"%s %s must be available",c,a);var d=b;"string"==typeof d&&(d=D(d));var e;if(!(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)){var f=d.hostname,g=f.length-10;e=0<=g&&f.indexOf(".localhost",g)==g}x(e||/^(\/\/)/.test(b),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',
c,a,b)}catch(h){return v().error("amp-experiment attribute-mutation-default-url",h.message),!1}return!0};U.prototype.mutate=function(){var a=this;this.j.forEach(function(b){var c=a.h.attributeName,d=a.h.value;b.setAttribute(c,d);if("function"===typeof b.mutatedAttributesCallback){var e=la();e[c]=d;b.mutatedAttributesCallback(e)}})};U.prototype.toString=function(){return JSON.stringify(this.h)};function V(a,b){this.h=a;this.j=b;a=this.h;b=JSON.stringify(a);x(void 0!==a.value&&"string"===typeof a.value,"Mutation %s must have a value.",b)}V.prototype.parseAndValidate=function(){return!0};V.prototype.mutate=function(){var a=this;this.j.forEach(function(b){b.textContent=a.h.value})};V.prototype.toString=function(){return JSON.stringify(this.h)};var Na=["attributes","characterData","childList"];function Oa(a,b,c){var d=Pa(b,c);return a.whenReady().then(function(){var b=[],c=0;d.forEach(function(d){x(r(d),"Mutation %s must be an object.",JSON.stringify(d));x(void 0!==d.type&&"string"===typeof d.type,"Mutation %s must have a type.",JSON.stringify(d));x(0<=Na.indexOf(d.type),"Mutation %s must have a valid type.",JSON.stringify(d));x(void 0!==d.target&&"string"===typeof d.target,"Mutation %s must have a target.",JSON.stringify(d));var e=a.win.document;var f=d.target;x(!f.match(/(^|\\W)i-amphtml-/),
"target %s cannot select i-amphtml-",f);e=e.querySelectorAll(f);x(0<e.length,"No element on the document matches the selector, %s .",d.target);e=e?Array.prototype.slice.call(e):[];c+=e.length;b.push({mutationRecord:d,elements:e})});if(70<c){var g="Max number of mutations for the total applied experiments exceeded: "+(c+" > 70");v().error("amp-experiment apply-experiment",g);throw Error(g);}var h=Qa(b);h.forEach(function(a){x(a.parseAndValidate(),"Mutation %s has an an unsupported value.",a.toString())});
h.forEach(function(a){a.mutate()})})}function Pa(a,b){var c=[],d;for(d in b){var e=b[d];if(e){var f=a[d].variants[e];c=c.concat(f.mutations)}}return c}
function Qa(a){var b=[];a.forEach(function(a){var c=a,e=c.mutationRecord;c=c.elements;var f=void 0;if("characterData"===e.type)f=new V(e,c);else if("attributes"===e.type)if("style"===e.attributeName)f=new T(e,c);else if("href"===e.attributeName||"src"===e.attributeName)f=new U(e,c);else if("class"===e.attributeName)f=new R(e,c);else throw Error("Mutation "+JSON.stringify(e)+" has an unsupported attributeName.");else v().error("amp-experiment apply-experiment","childList mutations not supported in the current experiment state."),
f={parseAndValidate:function(){return!0},mutate:function(){}};b.push(f)});return b};function Ra(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b}function Sa(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(a[c]);return b.join("")};var Ta={alg:"RS256",e:"AQAB",ext:!0,key_ops:["verify"],kty:"RSA",n:"uAGSMYKze8Fit508UaGHz1eZowfX4YsA0lmyi-65xQfjF7nMo61c4Iz4erdqgRp-ov662yVPquhPmTxgB-nzNcTPrj15Jo05Js78Q9hS2hrPIjKMlzcKSYQN_08QieWKOSmVbLSv_-4n9Ms5ta8nRs4pwc_2nX5n7m5B5GH4VerGbqIWIn9FRNYMShBRQ9TCHpb6BIUTwUn6iwmJLenq0A1xhGrQ9rswGC1QJhjotkeReKXZDLLWaFr0uRw-IyvRa5RiiEGntgOvcbvamM5TnbKavc2rxvg2TWTCNQnb7lWSAzldJA_yAOYet_MjnHMyj2srUdbQSDCk8kPWWuafiQ"};
function ya(a){this.C=a;this.l=K(a.win,"crypto");a=a.getHeadNode();var b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c;if(E(c,"ampdoc-fie")){c.__AMP_EXPERIMENT_BRANCHES=c.__AMP_EXPERIMENT_BRANCHES||{};for(f in F)if(y.call(F,f)&&!y.call(c.__AMP_EXPERIMENT_BRANCHES,f))if(F[f].isTrafficEligible&&F[f].isTrafficEligible(c)){if(!c.__AMP_EXPERIMENT_BRANCHES[f]&&E(c,f)){var e=F[f].branches;c.__AMP_EXPERIMENT_BRANCHES[f]=e[Math.floor(Math.random()*e.length)]||null}}else c.__AMP_EXPERIMENT_BRANCHES[f]=
null;var f="21065002"===(c.__AMP_EXPERIMENT_BRANCHES?c.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else f=!1;d&&!f?a=M(b,"url")?J(b,"url"):null:(a=G(a),a=H(a),a=M(a,"url")?J(a,"url"):null);this.B=a;this.I=new W(this.l,this.B);this.w=null}ya.prototype.getExperiments=function(a,b){a=void 0===a?!1:a;b=void 0===b?Ta:b;if(!this.l.isPkcsAvailable())return v().error("OriginExperiments","Crypto is unavailable."),Promise.resolve([]);if(!this.w||a)this.w=Ua(this,b);return this.w};
function Ua(a,b){var c=a.C.getHeadNode().querySelectorAll('meta[name="amp-experiment-token"]');if(0==c.length)return Promise.resolve();var d=a.C.win;return K(d,"crypto").importPkcsKey(b).then(function(b){for(var e=[],g=0;g<c.length;g++){var h=c[g],m=h.getAttribute("content");m?(h=a.I.verifyToken(m,d.location,b).catch(function(a){v().error("OriginExperiments","Failed to verify experiment token:",a)}),e.push(h)):v().error("OriginExperiments","Missing content for experiment token: ",h)}return Promise.all(e)})}
function W(a,b){this.l=a;this.B=b}W.prototype.generateKeys=function(){var a=Object.assign({modulusLength:2048,publicExponent:Uint8Array.of(1,0,1)},this.l.pkcsAlgo);return this.l.subtle.generateKey(a,!0,["sign","verify"])};W.prototype.generateToken=function(a,b,c){b=Ra(JSON.stringify(b));var d=Va(a,b);return this.l.subtle.sign(this.l.pkcsAlgo,c,d).then(function(a){a=new Uint8Array(a);a=Sa(d)+Sa(a);return btoa(a)})};
W.prototype.verifyToken=function(a,b,c){var d=this;return new Promise(function(e){var f=0,g=Ra(atob(a)),h=g[f];if(0!==h)throw Error("Unrecognized token version: "+h);f+=1;h=(new DataView(g.buffer)).getUint32(f);f+=4;if(h>g.length-f)throw Error("Unexpected config length: "+h);var m=g.subarray(f,f+h);f+=h;h=g.subarray(0,f);f=g.subarray(f);e(d.l.verifyPkcs(c,f,h).then(function(a){if(!a)throw Error("Failed to verify token signature.");var c=Sa(m),e=JSON.parse(c),f=d.B.parse(e.origin).origin;var g=b;"string"==
typeof g&&(g=D(g));var h=g;"string"==typeof h&&(h=D(h));if(ka.cdnProxyRegex.test(h.origin)){h=g.pathname.split("/");x(na[h[1]],"Unknown path prefix in url %s",g.href);var l=h[2],ba="s"==l?"https://"+decodeURIComponent(h[3]):"http://"+decodeURIComponent(l);x(0<ba.indexOf("."),"Expected a . in origin %s",ba);h.splice(1,"s"==l?3:2);h=ba+h.join("/");l=(l=g.search)&&"?"!=l?(l=l.replace(qa,"").replace(ra,"").replace(sa,"").replace(ta,"").replace(ua,"").replace(/^[?&]/,""))?"?"+l:"":"";g=h+l+(g.hash||"")}else g=
g.href;g=D(g).origin;if(f!==g)throw Error("Config origin ("+f+") does not match window ("+(g+")."));g=e.experiment;var Ya=e.expiration;if(Ya>=Date.now())return g;throw Error('Experiment "'+g+'" has expired.');}))})};function Va(a,b){var c=new Uint8Array(b.length+5);c[0]=a;(new DataView(c.buffer)).setUint32(1,b.length,!1);c.set(b,5);return c};function X(){return AMP.BaseElement.apply(this,arguments)||this}var Y=AMP.BaseElement;X.prototype=aa(Y.prototype);X.prototype.constructor=X;if(ea)ea(X,Y);else for(var Z in Y)if("prototype"!=Z)if(Object.defineProperties){var Wa=Object.getOwnPropertyDescriptor(Y,Z);Wa&&Object.defineProperty(X,Z,Wa)}else X[Z]=Y[Z];X.J=Y.prototype;X.prototype.isLayoutSupported=function(a){return"nodisplay"==a||"container"==a};X.prototype.prerenderAllowed=function(){return!0};X.prototype.isBuildRenderBlocking=function(){return!0};
X.prototype.buildCallback=function(){var a=this,b=[L(this.getAmpDoc(),"variant"),Xa(this)];return Promise.all(b).then(function(b){var c=b[0],e=b[1],f=z({});try{f=Za(a);if(!e)return v().error("amp-experiment","Experiment amp-experiment-1.0 is not enabled."),c.init(Promise.resolve($a(f))),Promise.reject("Experiment amp-experiment-1.0 is not enabled.");var g=a.getAmpDoc();za(g,"viewer");if(null!=g.getParam("amp-x-disable-all-experiments"))c.init(Promise.resolve($a(f)));else{var h=Object.create(null),
m=Object.keys(f).map(function(a){return Fa(g,a,f[a]).then(function(b){h[a]=b})}),l=Promise.all(m).then(function(){var b=a.getAmpDoc(),d=Oa(b,f,h),e=d.then(function(){return h});c.init(e);return e}).catch(function(a){c.init(Promise.resolve($a(f)));throw a;});return l}}catch(A){throw c.init(Promise.resolve({})),A;}})};
function Za(a){a=a.element.children;x(1==a.length&&"SCRIPT"==a[0].tagName&&"APPLICATION/JSON"==a[0].getAttribute("type").toUpperCase(),'<amp-experiment> should contain exactly one <script type="application/json"> child.');return JSON.parse(a[0].textContent)}function $a(a){var b=Object.create(null);Object.keys(a).map(function(a){b[a]=null});return b}
function Xa(a){if(E(a.win,"amp-experiment-1.0"))return Promise.resolve(!0);xa(a.getAmpDoc());return za(a.element,"origin-experiments").getExperiments().then(function(a){return a&&a.includes("amp-experiment-1.0")})}(function(a){a.registerServiceForDoc("variant",N);a.registerElement("amp-experiment",X)})(self.AMP);
})});

//# sourceMappingURL=amp-experiment-1.0.js.map
