(self.AMP=self.AMP||[]).push({n:"amp-nested-menu",v:"0",f:(function(AMP,_){
var h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},k;if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var l;a:{var m={a:!0},n={};try{n.__proto__=m;l=n.a;break a}catch(a){}l=!1}k=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var p=k;function q(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var r=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function t(a){return a?Array.prototype.slice.call(a):[]};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var u=self.__AMP_LOG;function v(a,b){if(!u.user)throw Error("failed to call initLogConstructor");u.user.assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var w=Object.prototype.hasOwnProperty;(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});function x(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var e=a.AMP_CONFIG[d];"number"===typeof e&&0<=e&&1>=e&&(c[d]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=d.indexOf(e[f])&&(c[e[f]]=!0)}Object.assign(c,y(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){d=a.AMP_CONFIG["allow-url-opt-in"];e=a.location.originalHash||a.location.hash;a=Object.create(null);if(e)for(var g;g=r.exec(e);)f=q(g[1],g[1]),g=g[2]?q(g[2].replace(/\+/g," "),g[2]):"",a[f]=g;for(e=0;e<d.length;e++)f=a["e-"+d[e]],"1"==f&&(c[d[e]]=!0),"0"==f&&(c[d[e]]=!1)}}var H=
c;return!!H[b]}function y(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){if(u.dev)a=u.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var z={},A=(z["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},z);function B(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return C(a,b)}function D(a){return a.nodeType?B((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function C(a,b){E(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});var d=c;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function E(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var F;function G(a,b,c){for(;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function I(a,b){return a.closest?a.closest(b):G(a,function(a){var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;return c?c.call(a,b):!1})}
function J(a,b){if(void 0!==F)var c=F;else{try{var d=a.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(H){c=!1}c=F=c}if(c)return a.querySelector(b.replace(/^|,/g,"$&:scope "));a.classList.add("i-amphtml-scoped");b=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(b);a.classList.remove("i-amphtml-scoped");var g=b;return void 0===g[0]?null:g[0]}function K(a){try{a.focus()}catch(b){}};function L(a){var b=AMP.BaseElement.call(this,a)||this;b.w=b.win.document;b.l=null;b.h=null;b.j=a;b.o=b.m.bind(b);b.B=b.A.bind(b);return b}var M=AMP.BaseElement;L.prototype=h(M.prototype);L.prototype.constructor=L;if(p)p(L,M);else for(var N in M)if("prototype"!=N)if(Object.defineProperties){var O=Object.getOwnPropertyDescriptor(M,N);O&&Object.defineProperty(L,N,O)}else L[N]=M[N];L.C=M.prototype;
L.prototype.buildCallback=function(){v(x(this.win,"amp-nested-menu"),"Turning on the amp-nested-menu experiment is necessary to use the amp-nested-menu component.");var a=this.element,b=this.element,c=b.ownerDocument.defaultView,d=c.__AMP_TOP||(c.__AMP_TOP=c),e=c!=d;if(x(d,"ampdoc-fie")){d.__AMP_EXPERIMENT_BRANCHES=d.__AMP_EXPERIMENT_BRANCHES||{};for(var f in A)if(w.call(A,f)&&!w.call(d.__AMP_EXPERIMENT_BRANCHES,f))if(A[f].isTrafficEligible&&A[f].isTrafficEligible(d)){if(!d.__AMP_EXPERIMENT_BRANCHES[f]&&
x(d,f)){var g=A[f].branches;d.__AMP_EXPERIMENT_BRANCHES[f]=g[Math.floor(Math.random()*g.length)]||null}}else d.__AMP_EXPERIMENT_BRANCHES[f]=null;d="21065002"===(d.__AMP_EXPERIMENT_BRANCHES?d.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else d=!1;e&&!d?b=E(c,"action")?C(c,"action"):null:(b=D(b),b=D(b),b=b.isSingleDoc()?b.win:b,b=E(b,"action")?C(b,"action"):null);this.l=b;this.h=a.getAttribute("side");"left"!=this.h&&"right"!=this.h&&(b=this.w,this.h="rtl"==(b.body.getAttribute("dir")||b.documentElement.getAttribute("dir")||
"ltr")?"left":"right",a.setAttribute("side",this.h));this.registerAction("reset",this.reset.bind(this));a.addEventListener("click",this.o);a.addEventListener("keydown",this.B)};L.prototype.layoutCallback=function(){P(this);return Promise.resolve()};
function P(a){var b=a.element.querySelectorAll("[amp-nested-submenu-open],[amp-nested-submenu-close]");b.forEach(function(b){b.hasAttribute("tabindex")||b.setAttribute("tabindex",0);b.setAttribute("role","button");v(0==a.l.hasAction(b,"tap"),"submenu open/close buttons should not have tap actions registered.")})}L.prototype.isLayoutSupported=function(a){return"fill"==a};
L.prototype.m=function(a){var b=a.target;if((a=I(a.target,"[amp-nested-submenu-open],[amp-nested-submenu-close]"))&&Q(this,b,a)){var c=a.hasAttribute("amp-nested-submenu-open");c?R(this,a):(b=I(a,"[amp-nested-submenu]"),v(b,"amp-nested-menu: submenu close buttons are only allowed inside submenus"),S(this,b))}};function Q(a,b,c){var d=!!G(b,function(a){return"A"==a.tagName},c),e=a.l.hasAction(b,"tap",c);return!d&&!e}
function R(a,b){var c=b.parentElement,d=J(c,">[amp-nested-submenu]");v(d,"amp-nested-menu requires each submenu open button to have a submenu as its sibling");T(a,d)}
function T(a,b){if(!b.hasAttribute("open")){var c=U(b);c&&(c.setAttribute("child-open",""),b.setAttribute("open",""),a.j=b,B(a.win,"timer").delay(function(){var a=t(b.querySelectorAll("[amp-nested-submenu-close]")),c=a.filter(function(a){return U(a)==b})[0];v(c,"amp-nested-menu requires each submenu to contain at least one submenu close button");K(c)},350))}}
function S(a,b){if(b.hasAttribute("open")){var c=U(b);c&&(c.removeAttribute("child-open"),b.removeAttribute("open"),a.j=c,B(a.win,"timer").delay(function(){var a=J(b.parentElement,">[amp-nested-submenu-open]");K(a)},350))}}L.prototype.reset=function(){for(;this.element.hasAttribute("child-open");)S(this,this.j)};
L.prototype.A=function(a){if(!a.defaultPrevented)switch(a.key){case "Enter":case " ":this.m(a);break;case "ArrowLeft":case "ArrowRight":var b="ArrowLeft"==a.key;"left"==this.h&&(b=!b);b?S(this,this.j):(a=a.target,a.hasAttribute("amp-nested-submenu-open")&&R(this,a));break;case "ArrowUp":case "ArrowDown":V(a)}};
function V(a){var b=a.target,c=U(b);if(b=G(b,function(a){return"LI"==a.tagName},c)){var d="ArrowUp"==a.key?b.previousElementSibling:b.nextElementSibling;if(d){var e=d.querySelector("button,a[href],[tabindex]");e&&(a.preventDefault(),K(e))}}}function U(a){return I(a.parentElement,"amp-nested-menu,[amp-nested-submenu]")}(function(a){a.registerElement("amp-nested-menu",L,"amp-nested-menu,amp-nested-menu [amp-nested-submenu]{position:absolute!important;top:0!important;width:100%!important;height:100%!important;transform:translateX(0)!important}amp-nested-menu.i-amphtml-layout-size-defined{overflow:visible!important}amp-nested-menu ol,amp-nested-menu ul{list-style-type:none;padding:0}amp-nested-menu [amp-nested-submenu]{opacity:0!important;visibility:hidden!important;transition:transform 233ms,opacity 233ms,visibility 0s 233ms}amp-nested-menu,amp-nested-menu [amp-nested-submenu][open]{opacity:1!important;visibility:visible!important;transition:transform 233ms}amp-nested-menu [amp-nested-submenu][child-open],amp-nested-menu[child-open]{visibility:hidden!important;transition:transform 233ms,visibility 0s 233ms}amp-nested-menu[side=left] [amp-nested-submenu]{right:100%!important}amp-nested-menu[side=right] [amp-nested-submenu]{left:100%!important}amp-nested-menu[side=left] [amp-nested-submenu][child-open],amp-nested-menu[side=left][child-open]{transform:translateX(100%)!important}amp-nested-menu[side=right] [amp-nested-submenu][child-open],amp-nested-menu[side=right][child-open]{transform:translateX(-100%)!important}\n/*# sourceURL=/extensions/amp-nested-menu/0.1/amp-nested-menu.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-nested-menu-0.1.js.map
