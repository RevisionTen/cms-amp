{"version":3,"sources":["http://localhost:8000/src/url-try-decode-uri-component.js","http://localhost:8000/src/url-parse-query-string.js","http://localhost:8000/src/log.js","http://localhost:8000/src/utils/object.js","http://localhost:8000/src/url.js","http://localhost:8000/src/experiments.js","http://localhost:8000/src/ampdoc-fie.js","http://localhost:8000/src/service.js","http://localhost:8000/src/services.js","http://localhost:8000/extensions/amp-dynamic-css-classes/0.1/amp-dynamic-css-classes.js"],"names":["tryDecodeUriComponent_","component","fallback","decodeURIComponent","e","regex","self","__AMP_LOG","user","dev","userForEmbed","logs","hasOwn_","Object","prototype","hasOwnProperty","dict","opt_initial","isExperimentOn","win","experimentId","create","toggles","AMP_CONFIG","frequency","Math","random","Array","isArray","length","allowed","meta","document","head","querySelector","optedInExperiments","getAttribute","split","i","indexOf","assign","getExperimentToggles","hash","location","originalHash","params","queryString","match","exec","name","value","replace","param","experimentsString","localStorage","getItem","LOCAL_STORAGE_KEY","Error","warn","TAG","tokens","substr","EXPERIMENT_INFO_MAP","EXPERIMENT_ID","isTrafficEligible","branches","control","experiment","getService","id","__AMP_TOP","getServiceInternal","getServiceForDoc","elementOrAmpDoc","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","nodeOrDoc","nodeType","defaultView","ownerDocument","getAmpDoc","isSingleDoc","isServiceRegistered","services","__AMP_SERVICES","s","obj","ctor","context","resolve","service","referrers_","referrer","domains","domainBase","reduceRight","referrers","domain","push","normalizedReferrers","getUnconfirmedReferrerUrl","hostname","element","topWin","isEmbed","__AMP_EXPERIMENT_BRANCHES","experimentName","call","floor","rn","ampdocFieExperimentOn","test","navigator","userAgent","addDynamicCssClasses","classes","isBodyAvailable","addCssClassesToBody","getBody","waitForBodyOpen","then","body","classList","add","addReferrerClasses","map","mutate","addViewerClass","viewer","isEmbedded","constructor","AmpDynamicCssClasses","whenReady","Promise","AMP","registerServiceForDoc"],"mappings":"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","file":"amp-dynamic-css-classes-0.1.js","sourcesContent":[]}