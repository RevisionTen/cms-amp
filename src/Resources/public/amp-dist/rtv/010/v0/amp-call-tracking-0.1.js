(self.AMP=self.AMP||[]).push({n:"amp-call-tracking",v:"0",f:(function(AMP,_){
var h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var n={a:!0},q={};try{q.__proto__=n;m=q.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=l;function t(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(f){return b}};var u=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function v(a){var b=Object.create(null);if(!a)return b;for(var f;f=u.exec(a);){var e=t(f[1],f[1]),d=f[2]?t(f[2].replace(/\+/g," "),f[2]):"";b[e]=d}return b};var w="";self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function y(){if(!x.user)throw Error("failed to call initLogConstructor");return x.user}function z(){if(x.dev)return x.dev;throw Error("failed to call initLogConstructor");};var A=Object.prototype.hasOwnProperty;function B(){var a=100;this.w=a;this.j=this.m=0;this.h=Object.create(null)}B.prototype.has=function(a){return!!this.h[a]};B.prototype.get=function(a){var b=this.h[a];if(b)return b.access=++this.j,b.payload};B.prototype.put=function(a,b){this.has(a)||this.m++;this.h[a]={payload:b,access:this.j};if(!(this.m<=this.w)){z().warn("lru-cache","Trimming LRU cache");a=this.h;var f=this.j+1,e;for(e in a){var d=a[e].access;if(d<f){f=d;var c=e}}void 0!==c&&(delete a[c],this.m--)}};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});var D,E;function F(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var f=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);f=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var e in a.AMP_CONFIG){var d=a.AMP_CONFIG[e];"number"===typeof d&&0<=d&&1>=d&&(f[e]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(e=a.AMP_CONFIG["allow-doc-opt-in"],d=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){d=
d.getAttribute("content").split(",");for(var c=0;c<d.length;c++)-1!=e.indexOf(d[c])&&(f[d[c]]=!0)}Object.assign(f,G(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length)for(e=a.AMP_CONFIG["allow-url-opt-in"],a=v(a.location.originalHash||a.location.hash),d=0;d<e.length;d++)c=a["e-"+e[d]],"1"==c&&(f[e[d]]=!0),"0"==c&&(f[e[d]]=!1)}var g=f;return!!g[b]}
function G(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(d){z().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var f=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var e=0;e<f.length;e++)0!=f[e].length&&("-"==f[e][0]?a[f[e].substr(1)]=!1:a[f[e]]=!0);return a};var H={},I=(H["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},H);function J(a){var b=a.ownerDocument.defaultView,f=b.__AMP_TOP||(b.__AMP_TOP=b),e=b!=f;var d=f;if(F(d,"ampdoc-fie")){d.__AMP_EXPERIMENT_BRANCHES=d.__AMP_EXPERIMENT_BRANCHES||{};for(var c in I)if(A.call(I,c)&&!A.call(d.__AMP_EXPERIMENT_BRANCHES,c))if(I[c].isTrafficEligible&&I[c].isTrafficEligible(d)){if(!d.__AMP_EXPERIMENT_BRANCHES[c]&&F(d,c)){var g=I[c].branches;d.__AMP_EXPERIMENT_BRANCHES[c]=g[Math.floor(Math.random()*g.length)]||null}}else d.__AMP_EXPERIMENT_BRANCHES[c]=null;d="21065002"===(d.__AMP_EXPERIMENT_BRANCHES?
d.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else d=!1;var k=d;e&&!k?a=K(b,"url-replace")?L(b,"url-replace"):null:(a=M(a),a=M(a),a=a.isSingleDoc()?a.win:a,a=K(a,"url-replace")?L(a,"url-replace"):null);return a}function N(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return L(a,b)}function M(a){return a.nodeType?N((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}
function L(a,b){K(a,b);var f=a.__AMP_SERVICES;f||(f=a.__AMP_SERVICES={});var e=f;a=e[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function K(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var O={};function P(a,b){b in O||(O[b]=N(a,"xhr").fetchJson(b,{credentials:"include"}).then(function(a){return a.json()}));return O[b]}function Q(a){a=AMP.BaseElement.call(this,a)||this;a.l=null;a.o=null;return a}var R=AMP.BaseElement;Q.prototype=h(R.prototype);Q.prototype.constructor=Q;if(r)r(Q,R);else for(var S in R)if("prototype"!=S)if(Object.defineProperties){var T=Object.getOwnPropertyDescriptor(R,S);T&&Object.defineProperty(Q,S,T)}else Q[S]=R[S];Q.A=R.prototype;
Q.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a||"container"==a};
Q.prototype.buildCallback=function(){var a=this.element.getAttribute("config"),b=this.element;var f=void 0===f?"source":f;var e=null!=a;y().assert(e,"%s %s must be available",b,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0);e=a;if("string"==typeof e){D||(D=self.document.createElement("a"),E=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new B));var d=E,c=D;if(d&&d.has(e))e=d.get(e);else{c.href=e;c.protocol||(c.href=c.href);var g={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==
c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==g.pathname[0]&&(g.pathname="/"+g.pathname);if("http:"==g.protocol&&80==g.port||"https:"==g.protocol&&443==g.port)g.port="",g.host=g.hostname;g.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=g.protocol&&g.host?g.protocol+"//"+g.host:g.href;c=self;if(c.__AMP_MODE)c=c.__AMP_MODE;else{var k=self.AMP_CONFIG||{};var C=!!k.test||!1;var p=v(c.location.originalHash||c.location.hash);k=k.spt;var U=v(c.location.search);
w||(w=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"010");C={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(p.development)||c.AMP_DEV_MODE),examiner:"2"==p.development,geoOverride:p["amp-geo"],userLocationOverride:p["amp-user-location"],minified:!0,lite:void 0!=U.amp_lite,test:C,log:p.log,version:"0",rtvVersion:w,singlePassType:k};c=c.__AMP_MODE=C}g=c.test&&Object.freeze?Object.freeze(g):g;d&&d.put(e,g);e=g}}(d="https:"==e.protocol||"localhost"==e.hostname||"127.0.0.1"==
e.hostname)||(e=e.hostname,d=e.length-10,d=0<=d&&e.indexOf(".localhost",d)==d);e=d||/^(\/\/)/.test(a);y().assert(e,'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,f,a,void 0,void 0,void 0,void 0,void 0,void 0);this.o=a;this.l=this.element.firstElementChild};
Q.prototype.layoutCallback=function(){var a=this;return J(this.element).expandUrlAsync(y().assertString(this.o)).then(function(b){return P(a.win,b)}).then(function(b){b.phoneNumber?(a.l.setAttribute("href","tel:"+b.phoneNumber),a.l.textContent=b.formattedPhoneNumber||b.phoneNumber):y().warn("amp-call-tracking","Response does not contain a phoneNumber field %s. Call tracking was not applied.",a.element)})};(function(a){a.registerElement("amp-call-tracking",Q)})(self.AMP);
})});

//# sourceMappingURL=amp-call-tracking-0.1.js.map
