(self.AMP=self.AMP||[]).push({n:"amp-action-macro",v:"0",f:(function(AMP,_){
var h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},k;if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var l;a:{var m={a:!0},n={};try{n.__proto__=m;l=n.a;break a}catch(a){}l=!1}k=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var p=k;function q(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(e){return b}};var r=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var t=self.__AMP_LOG;function v(a,b,e,d){if(!t.user)throw Error("failed to call initLogConstructor");t.user.assert(a,b,e,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var w=Object.prototype.hasOwnProperty;(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0,action:!0});function x(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var e=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);e=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var c=a.AMP_CONFIG[d];"number"===typeof c&&0<=c&&1>=c&&(e[d]=Math.random()<c)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],c=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){c=
c.getAttribute("content").split(",");for(var f=0;f<c.length;f++)-1!=d.indexOf(c[f])&&(e[c[f]]=!0)}Object.assign(e,y(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){d=a.AMP_CONFIG["allow-url-opt-in"];c=a.location.originalHash||a.location.hash;a=Object.create(null);if(c)for(var g;g=r.exec(c);)f=q(g[1],g[1]),g=g[2]?q(g[2].replace(/\+/g," "),g[2]):"",a[f]=g;for(c=0;c<d.length;c++)f=a["e-"+d[c]],"1"==f&&(e[d[c]]=!0),"0"==f&&(e[d[c]]=!1)}}var u=
e;return!!u[b]}function y(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(c){if(t.dev)a=t.dev;else throw Error("failed to call initLogConstructor");a.warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var e=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<e.length;d++)0!=e[d].length&&("-"==e[d][0]?a[e[d].substr(1)]=!1:a[e[d]]=!0);return a};var z={},A=(z["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},z);function B(a){var b=a.ownerDocument.defaultView,e=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=e;var c=e;if(x(c,"ampdoc-fie")){c.__AMP_EXPERIMENT_BRANCHES=c.__AMP_EXPERIMENT_BRANCHES||{};for(var f in A)if(w.call(A,f)&&!w.call(c.__AMP_EXPERIMENT_BRANCHES,f))if(A[f].isTrafficEligible&&A[f].isTrafficEligible(c)){if(!c.__AMP_EXPERIMENT_BRANCHES[f]&&x(c,f)){var g=A[f].branches;c.__AMP_EXPERIMENT_BRANCHES[f]=g[Math.floor(Math.random()*g.length)]||null}}else c.__AMP_EXPERIMENT_BRANCHES[f]=null;c="21065002"===(c.__AMP_EXPERIMENT_BRANCHES?
c.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else c=!1;var u=c;d&&!u?a=C(b,"action")?D(b,"action"):null:(a=E(a),a=E(a),a=a.isSingleDoc()?a.win:a,a=C(a,"action")?D(a,"action"):null);return a}function E(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=D(b,"ampdoc").getAmpDoc(a)}return a}
function D(a,b){C(a,b);var e=a.__AMP_SERVICES;e||(e=a.__AMP_SERVICES={});var d=e;a=d[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function C(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function F(a){a=AMP.BaseElement.call(this,a)||this;a.j=null;a.h=[];return a}var G=AMP.BaseElement;F.prototype=h(G.prototype);F.prototype.constructor=F;if(p)p(F,G);else for(var H in G)if("prototype"!=H)if(Object.defineProperties){var I=Object.getOwnPropertyDescriptor(G,H);I&&Object.defineProperty(F,H,I)}else F[H]=G[H];F.m=G.prototype;
F.prototype.buildCallback=function(){v(x(this.win,"amp-action-macro"),"Experiment is off");var a=this.element;this.j=B(a);var b=a.getAttribute("arguments");b&&(this.h=b.split(",").map(function(a){return a.trim()}));this.registerAction("execute",this.l.bind(this))};F.prototype.getLayoutPriority=function(){return 1};
F.prototype.l=function(a){var b=a,e=b.actionEventType,d=b.args,c=b.event,f=b.trust;if(d&&0<this.h.length)for(var g in d)v(this.h.includes(g),'Variable argument name "%s" is not defined in %s',g,this.element);"amp-action-macro"===a.caller.tagName.toLowerCase()&&v(!!(this.element.compareDocumentPosition(a.caller)&Node.DOCUMENT_POSITION_FOLLOWING),'Action macro with ID "%s" cannot reference itself or macros defined after it',this.element.getAttribute("id"));this.j.trigger(this.element,""+e,c,f,d)};
F.prototype.renderOutsideViewport=function(){return!0};(function(a){a.registerElement("amp-action-macro",F)})(self.AMP);
})});

//# sourceMappingURL=amp-action-macro-0.1.js.map
