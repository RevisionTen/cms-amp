(self.AMP=self.AMP||[]).push({n:"amp-live-list",v:"0",f:(function(AMP,_){
var k,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var ba={a:!0},q={};try{q.__proto__=ba;n=q.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=m;function ca(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};function da(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var ea=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function t(a){var b=Object.create(null);if(!a)return b;for(var c;c=ea.exec(a);){var d=da(c[1],c[1]),e=c[2]?da(c[2].replace(/\+/g," "),c[2]):"";b[d]=e}return b};var u="";
function v(a){var b=a||self;if(b.__AMP_MODE)var c=b.__AMP_MODE;else{c=b;var d=self.AMP_CONFIG||{},e=!!d.test||!1,f=t(c.location.originalHash||c.location.hash);d=d.spt;var g=t(c.location.search);u||(u=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"010");c={localDev:!1,development:!!(0<=["1","actions","amp","amp4ads","amp4email"].indexOf(f.development)||c.AMP_DEV_MODE),examiner:"2"==f.development,geoOverride:f["amp-geo"],userLocationOverride:f["amp-user-location"],minified:!0,lite:void 0!=g.amp_lite,test:e,
log:f.log,version:"0",rtvVersion:u,singlePassType:d};c=b.__AMP_MODE=c}return c};var fa=Object.prototype.toString;function ha(a){return a?Array.prototype.slice.call(a):[]};var w=self.AMP_CONFIG||{},ia={thirdParty:w.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:w.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof w.thirdPartyFrameRegex?new RegExp(w.thirdPartyFrameRegex):w.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:w.cdnUrl||"https://cdn.ampproject.org",cdnProxyRegex:("string"==typeof w.cdnProxyRegex?new RegExp(w.cdnProxyRegex):w.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,
errorReporting:w.errorReportingUrl||"https://amp-error-reporting.appspot.com/r",localDev:w.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/]};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function y(){if(!x.user)throw Error("failed to call initLogConstructor");return x.user}function ja(){if(x.dev)return x.dev;throw Error("failed to call initLogConstructor");}function z(a,b,c,d){return y().assert(a,b,c,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0)};var ka=Object.prototype.hasOwnProperty;function la(){var a,b=Object.create(null);a&&Object.assign(b,a);return b}function A(a){return a||{}};function C(){var a=100;this.fa=a;this.S=this.W=0;this.M=Object.create(null)}C.prototype.has=function(a){return!!this.M[a]};C.prototype.get=function(a){var b=this.M[a];if(b)return b.access=++this.S,b.payload};C.prototype.put=function(a,b){this.has(a)||this.W++;this.M[a]={payload:b,access:this.S};if(!(this.W<=this.fa)){ja().warn("lru-cache","Trimming LRU cache");a=this.M;var c=this.S+1,d;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.W--)}};var ma=A({c:!0,v:!0,a:!0,ad:!0,action:!0}),D,na,oa=/[?&]amp_js[^&]*/,pa=/[?&]amp_gsa[^&]*/,qa=/[?&]amp_r[^&]*/,ra=/[?&]amp_kit[^&]*/,sa=/[?&]usqp[^&]*/;
function E(a){var b;D||(D=self.document.createElement("a"),na=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new C));var c=b?null:na,d=D;if(c&&c.has(a))a=c.get(a);else{d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;
e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;d=v().test&&Object.freeze?Object.freeze(e):e;c&&c.put(a,d);a=d}return a}function ta(a,b,c){if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}function ua(a){"string"==typeof a&&(a=E(a));return ia.cdnProxyRegex.test(a.origin)}
function va(a){"string"==typeof a&&(a=E(a));if(!ua(a))return a.href;var b=a.pathname.split("/");z(ma[b[1]],"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);z(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(oa,"").replace(pa,"").replace(qa,"").replace(ra,"").replace(sa,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")};function F(a,b){if(a.__AMP__EXPERIMENT_TOGGLES)var c=a.__AMP__EXPERIMENT_TOGGLES;else{a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);c=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var d in a.AMP_CONFIG){var e=a.AMP_CONFIG[d];"number"===typeof e&&0<=e&&1>=e&&(c[d]=Math.random()<e)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(d=a.AMP_CONFIG["allow-doc-opt-in"],e=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]'))){e=
e.getAttribute("content").split(",");for(var f=0;f<e.length;f++)-1!=d.indexOf(e[f])&&(c[e[f]]=!0)}Object.assign(c,wa(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length)for(d=a.AMP_CONFIG["allow-url-opt-in"],a=t(a.location.originalHash||a.location.hash),e=0;e<d.length;e++)f=a["e-"+d[e]],"1"==f&&(c[d[e]]=!0),"0"==f&&(c[d[e]]=!1)}var g=c;return!!g[b]}
function wa(a){var b="";try{"localStorage"in a&&(b=a.localStorage.getItem("amp-experiment-toggles"))}catch(e){ja().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var c=b?b.split(/\s*,\s*/g):[];a=Object.create(null);for(var d=0;d<c.length;d++)0!=c[d].length&&("-"==c[d][0]?a[c[d].substr(1)]=!1:a[c[d]]=!0);return a};var xa={},G=(xa["ampdoc-fie"]={isTrafficEligible:function(){return!0},branches:[["21065001"],["21065002"]]},xa);function ya(a){var b=a.ownerDocument.defaultView,c=b.__AMP_TOP||(b.__AMP_TOP=b),d=b!=c;var e=c;if(F(e,"ampdoc-fie")){e.__AMP_EXPERIMENT_BRANCHES=e.__AMP_EXPERIMENT_BRANCHES||{};for(var f in G)if(ka.call(G,f)&&!ka.call(e.__AMP_EXPERIMENT_BRANCHES,f))if(G[f].isTrafficEligible&&G[f].isTrafficEligible(e)){if(!e.__AMP_EXPERIMENT_BRANCHES[f]&&F(e,f)){var g=G[f].branches;e.__AMP_EXPERIMENT_BRANCHES[f]=g[Math.floor(Math.random()*g.length)]||null}}else e.__AMP_EXPERIMENT_BRANCHES[f]=null;e="21065002"===(e.__AMP_EXPERIMENT_BRANCHES?
e.__AMP_EXPERIMENT_BRANCHES["ampdoc-fie"]:null)}else e=!1;var h=e;d&&!h?a=H(b,"url")?I(b,"url"):null:(a=J(a),a=K(a),a=H(a,"url")?I(a,"url"):null);return a}function za(a){var b=Aa,c=J(a),d=K(c),e=d,f=L(e),g=f["origin-experiments"];g||(g=f["origin-experiments"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null});g.ctor||g.obj||(g.ctor=b,g.context=c,g.resolve&&I(e,"origin-experiments"))}function M(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return I(a,b)}
function Ba(a,b){var c=J(a);c=K(c);return I(c,b)}function J(a){return a.nodeType?M((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function K(a){a=J(a);return a.isSingleDoc()?a.win:a}function I(a,b){H(a,b);var c=L(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function Ca(a){var b;(b=L(a).liveListManager)?b.promise?b=b.promise:(I(a,"liveListManager"),b=b.promise=Promise.resolve(b.obj)):b=null;var c=b;if(c)return c;a=L(a);a.liveListManager=Da();return a.liveListManager.promise}function L(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function H(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}
function Da(){var a=new ca,b=a,c=b.promise,d=b.resolve;b=b.reject;c.catch(function(){});return{obj:null,promise:c,resolve:d,reject:b,context:null,ctor:null}};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var N;function O(a,b){/^[\w-]+$/.test(b);b="> ["+b+"]";if(void 0!==N)var c=N;else{try{var d=a.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(g){c=!1}c=N=c}c?a=a.querySelector(b.replace(/^|,/g,"$&:scope ")):(a.classList.add("i-amphtml-scoped"),b=b.replace(/^|,/g,"$&.i-amphtml-scoped "),b=a.querySelectorAll(b),a.classList.remove("i-amphtml-scoped"),a=void 0===b[0]?null:b[0]);return a};function Ea(){var a=0;return function(){var b=Math.pow(2,a++);b+=Fa(b);return 1E3*b}}function Fa(a,b){b=b||.3;var c=a*b*Math.random();.5<Math.random()&&(c*=-1);return c};function P(a,b,c){this.win=a;this.ea=b;this.Z=c;this.O=null;this.I=!1;this.ka=this.G=null}function Ga(a){return a.G?a.G():a.ea+Fa(a.ea,.2)}P.prototype.isRunning=function(){return this.I};P.prototype.start=function(a){this.I||(this.I=!0,Q(this,a))};P.prototype.stop=function(){this.I&&(this.I=!1,this.O&&(M(this.win,"timer").cancel(this.O),this.O=null))};
function Q(a,b){if(a.I){var c=function(){a.ka=a.Z().then(function(){a.G&&(a.G=null);Q(a)}).catch(function(b){if(b.retriable)a.G||(a.G=Ea()),Q(a);else throw b;})};b?c():a.O=M(a.win,"timer").delay(c,Ga(a))}};var Ha=["GET","POST"];function Ia(a,b){var c=Object.assign({},b),d=b.body;if(d&&"function"==typeof d.getFormData){var e=b.body;c.headers["Content-Type"]="multipart/form-data;charset=utf-8";b=e.entries();d=[];for(var f=b.next();!f.done;f=b.next())d.push(f.value);c.body=d}return{input:a,init:c}}
function Ja(a,b){z("[object Object]"===fa.call(a),"Object expected: %s",a);var c="document"==b;if(!c)return new Response(a.body,a.init);var d=la(),e={status:200,statusText:"OK",getResponseHeader:function(a){return d[String(a).toLowerCase()]||null}};if(a.init){var f=a.init;Array.isArray(f.headers)&&f.headers.forEach(function(a){var b=a[0],c=a[1];d[String(b).toLowerCase()]=String(c)});f.status&&(e.status=parseInt(f.status,10));f.statusText&&(e.statusText=String(f.statusText))}return new Response(a.body?
String(a.body):"",e)}
function Ka(a,b,c,d){if(!b)return Promise.resolve();var e=d.prerenderSafe?Promise.resolve():b.whenFirstVisible(),f=Ba(b,"viewer"),g=ua(c),h=f.hasCapability("xhrInterceptor"),l=d.bypassInterceptorForDev&&v(a).localDev;if(g||!h||l)return e;var p=b.getRootNode().documentElement,B=p.hasAttribute("allow-xhr-interception");return B?e.then(function(){return f.isTrustedViewer()}).then(function(b){if(b||v(a).localDev||F(a,"untrusted-xhr-interception")){var e=A({originalRequest:Ia(c,d)});return f.sendMessageAwaitResponse("xhr",
e).then(function(a){return Ja(a,d.responseType)})}}):e}function La(a,b,c){!1!==c.ampCors&&(c=E(b),c=t(c.search),z(!("__amp_source_origin"in c),"Source origin is not allowed in %s",b),a=E(va(a.location.href)).origin,a=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(a),b=ta(b,a,void 0));return b}function Ma(){var a="text/html",b={};var c=b.method;void 0===c?c="GET":(c=c.toUpperCase(),Ha.includes(c));b.method=c;b.headers=b.headers||A({});a&&(b.headers.Accept=a);return b}
function Na(a,b,c){c=c||{};var d=a.origin||E(a.location.href).origin;a=E(b).origin;d==a&&(c.headers=c.headers||{},c.headers["AMP-Same-Origin"]="true");return c}function Oa(a){return new Promise(function(b){if(a.ok)return b(a);b=a.status;var c=y().createError("HTTP error "+b);c.retriable=415==b||500<=b&&600>b;c.response=a;throw c;})};function Pa(a,b){var c=Ma();c=Na(a,b,c);b=La(a,b,c);var d=M(a,"ampdoc"),e=d.isSingleDoc()?d.getSingleDoc():null;c.responseType="document";return Ka(a,e,b,c).then(function(a){return a?a.text().then(function(a){return(new DOMParser).parseFromString(a,"text/html")}):Qa(b,c).then(function(a){var b=a.xhr;return b.responseXML})})}
function Qa(a,b){return new Promise(function(c,d){var e=new XMLHttpRequest;e.open(b.method||"GET",a,!0);e.withCredentials="include"==b.credentials;e.responseType="document";for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);e.onreadystatechange=function(){if(!(2>e.readyState))if(100>e.status||599<e.status)e.onreadystatechange=null,d(y().createExpectedError("Unknown HTTP status "+e.status));else if(4==e.readyState){var a={status:e.status,statusText:e.statusText,headers:Ra(e.getAllResponseHeaders())};
a=new Response("",a);a=Oa(a).then(function(a){return{response:a,xhr:e}});c(a)}};e.onerror=function(){d(y().createExpectedError("Request failure"))};e.onabort=function(){d(y().createExpectedError("Request aborted"))};"POST"==b.method?e.send(b.body):e.send()})}function Ra(a){var b=A({}),c=a.replace(/\r?\n[\t ]+/g," ");c.split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();d&&(c=c.join(":").trim(),b[d]=c)});return b};function Sa(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b}function R(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(a[c]);return b.join("")};var Ta={alg:"RS256",e:"AQAB",ext:!0,key_ops:["verify"],kty:"RSA",n:"uAGSMYKze8Fit508UaGHz1eZowfX4YsA0lmyi-65xQfjF7nMo61c4Iz4erdqgRp-ov662yVPquhPmTxgB-nzNcTPrj15Jo05Js78Q9hS2hrPIjKMlzcKSYQN_08QieWKOSmVbLSv_-4n9Ms5ta8nRs4pwc_2nX5n7m5B5GH4VerGbqIWIn9FRNYMShBRQ9TCHpb6BIUTwUn6iwmJLenq0A1xhGrQ9rswGC1QJhjotkeReKXZDLLWaFr0uRw-IyvRa5RiiEGntgOvcbvamM5TnbKavc2rxvg2TWTCNQnb7lWSAzldJA_yAOYet_MjnHMyj2srUdbQSDCk8kPWWuafiQ"};
function Aa(a){this.$=a;this.l=M(a.win,"crypto");this.L=ya(a.getHeadNode());this.ma=new S(this.l,this.L);this.V=null}Aa.prototype.getExperiments=function(a,b){a=void 0===a?!1:a;b=void 0===b?Ta:b;if(!this.l.isPkcsAvailable())return y().error("OriginExperiments","Crypto is unavailable."),Promise.resolve([]);if(!this.V||a)this.V=Ua(this,b);return this.V};
function Ua(a,b){var c=a.$.getHeadNode().querySelectorAll('meta[name="amp-experiment-token"]');if(0==c.length)return Promise.resolve();var d=a.$.win;return M(d,"crypto").importPkcsKey(b).then(function(b){for(var e=[],g=0;g<c.length;g++){var h=c[g],l=h.getAttribute("content");l?(h=a.ma.verifyToken(l,d.location,b).catch(function(a){y().error("OriginExperiments","Failed to verify experiment token:",a)}),e.push(h)):y().error("OriginExperiments","Missing content for experiment token: ",h)}return Promise.all(e)})}
function S(a,b){this.l=a;this.L=b}S.prototype.generateKeys=function(){var a=Object.assign({modulusLength:2048,publicExponent:Uint8Array.of(1,0,1)},this.l.pkcsAlgo);return this.l.subtle.generateKey(a,!0,["sign","verify"])};S.prototype.generateToken=function(a,b,c){b=Sa(JSON.stringify(b));var d=Va(a,b);return this.l.subtle.sign(this.l.pkcsAlgo,c,d).then(function(a){a=new Uint8Array(a);a=R(d)+R(a);return btoa(a)})};
S.prototype.verifyToken=function(a,b,c){var d=this;return new Promise(function(e){var f=0,g=Sa(atob(a)),h=g[f];if(0!==h)throw Error("Unrecognized token version: "+h);f+=1;h=(new DataView(g.buffer)).getUint32(f);f+=4;if(h>g.length-f)throw Error("Unexpected config length: "+h);var l=g.subarray(f,f+h);f+=h;h=g.subarray(0,f);f=g.subarray(f);e(d.l.verifyPkcs(c,f,h).then(function(a){if(!a)throw Error("Failed to verify token signature.");var c=R(l),e=JSON.parse(c),f=d.L.parse(e.origin).origin,g=E(va(b)).origin;
if(f!==g)throw Error("Config origin ("+f+") does not match window ("+(g+")."));g=e.experiment;var h=e.expiration;if(h>=Date.now())return g;throw Error('Experiment "'+g+'" has expired.');}))})};function Va(a,b){var c=new Uint8Array(b.length+5);c[0]=a;(new DataView(c.buffer)).setUint32(1,b.length,!1);c.set(b,5);return c};function Wa(a){var b=this;this.ampdoc=a;this.j=Object.create(null);this.ha=M(this.ampdoc.win,"extensions");this.N=15E3;this.aa=[this.N];this.A=null;this.L=this.ampdoc.getUrl();this.K=0;this.Z=this.ia.bind(this);this.ja=Xa(a.getRootNode());this.T=null;this.ampdoc.whenReady().then(function(){b.N=Math.min.apply(Math,b.aa);var a=Object.keys(b.j).map(function(a){return b.j[a].getUpdateTime()});b.K=Math.max.apply(Math,a);if(v().localDev){var d=b.ampdoc.win.location.pathname;if(-1!=d.indexOf("/examples/live-list-update.amp.html")||
-1!=d.indexOf("/examples/live-blog.amp.html")||-1!=d.indexOf("/examples/live-blog-non-floating-button.amp.html"))b.N=5E3}b.A=new P(b.ampdoc.win,b.N,b.Z);b.ampdoc.isVisible()&&Ya(b)&&b.A.start();Za(b)})}k=Wa.prototype;k.dispose=function(){this.A.stop()};function Ya(a){return Object.keys(a.j).some(function(b){return a.j[b].isEnabled()})}
k.ia=function(){var a=this.L;if(0<this.K){var b=this.T?A({amp_latest_update_time:String(this.K),amp_random:String(Math.random())}):A({amp_latest_update_time:String(this.K)}),c=b,d=[];for(h in c){var e=c[h];if(null!=e)if(Array.isArray(e))for(var f=0;f<e.length;f++){var g=e[f];d.push(encodeURIComponent(h)+"="+encodeURIComponent(g))}else d.push(encodeURIComponent(h)+"="+encodeURIComponent(e))}var h=d.join("&");a=ta(a,h)}if(this.ja){var l=ya(this.ampdoc.getBody());a=l.getCdnUrlOnOrigin(a)}return Pa(this.ampdoc.win,
a).then(this.oa.bind(this))};k.oa=function(a){$a(this,a);var b=Array.prototype.slice.call(a.getElementsByTagName("amp-live-list")).concat(ab(this,a)),c=b.map(this.na.bind(this)),d=Math.max.apply(Math,[0].concat(c));0<d&&(this.K=d);Ya(this)||this.A.stop()};function ab(a,b){var c=Object.keys(a.j).filter(function(b){return a.j[b].hasCustomSlot()});return c.map(function(c){var d=a.j[c].element.AMP_LIVE_LIST_CUSTOM_SLOT_ID;return b.getElementById(d)})}
k.na=function(a){var b="i-amphtml-"+a.id+"-dynamic-list",c=b in this.j?b:a.getAttribute("id");z(c,"amp-live-list must have an id.");z(c in this.j,"amp-live-list#%s found but did not exist on original page load.",c);var d=this.j[c];d.toggle(!a.hasAttribute("disabled")&&!a.hasAttribute("live-story-disabled"));return d.isEnabled()?d.update(a):0};
k.register=function(a,b){var c=this;a in this.j||(this.j[a]=b,this.aa.push(b.getInterval()),b.isEnabled()&&this.A&&this.ampdoc.isVisible()&&(null===this.T&&(za(this.ampdoc),Ba(b.element,"origin-experiments").getExperiments().then(function(a){return c.T=a&&a.includes("amp-live-list-random")})),this.A.start()))};function Za(a){a.ampdoc.onVisibilityChanged(function(){a.ampdoc.isVisible()?a.A.start(!0):a.A.stop()})}
function $a(a,b){ha(b.querySelectorAll("script[custom-element], script[custom-template]")).forEach(function(b){var c=b.getAttribute("custom-element")||b.getAttribute("custom-template");a.ha.installExtensionForDoc(a.ampdoc,c)})}function Xa(a){if(!a.ownerDocument)return!1;var b=a.ownerDocument.documentElement.getAttribute("transformed");if(a=!!b)a=b,a=9>a.length?!1:0==a.lastIndexOf("google;v=",0);return a};function bb(a,b){return Math.max(parseInt(a,10)||0,b)}function T(a){a=AMP.BaseElement.call(this,a)||this;a.B=null;a.ba=null;a.Y=null;a.h=null;a.P=null;a.U="";a.da=0;a.ca=0;a.F=0;a.H=!1;a.o=Object.create(null);a.J=[];a.w=[];a.D=[];a.R=null;a.m="";a.C=0;a.ga=a.la.bind(a);return a}var U=AMP.BaseElement;T.prototype=aa(U.prototype);T.prototype.constructor=T;
if(r)r(T,U);else for(var V in U)if("prototype"!=V)if(Object.defineProperties){var cb=Object.getOwnPropertyDescriptor(U,V);cb&&Object.defineProperty(T,V,cb)}else T[V]=U[V];T.pa=U.prototype;k=T.prototype;k.isLayoutSupported=function(a){return"container"==a||"fixed-height"==a};
k.buildCallback=function(){var a=this;this.B=this.getViewport();Ca(K(this.element)).then(function(b){a.ba=b;a.ba.register(a.U,a)});this.m=this.element.AMP_LIVE_LIST_CUSTOM_SLOT_ID;this.Y=z(db(this,this.element),'amp-live-list must have an "update" slot.');this.h=z(eb(this,this.element),'amp-live-list must have an "items" slot.');this.P=O(this.element,"pagination");this.U=z(this.element.getAttribute("id"),"amp-live-list must have an id.");this.da=bb(this.element.getAttribute("data-poll-interval"),
15E3);var b=this.element.getAttribute("data-max-items-per-page");z(0<Number(b)||this.element.hasAttribute("disable-pagination"),"amp-live-list # %s must have data-max-items-per-page attribute with numeric value. Found %s.",this.U,b);var c=[].slice.call(this.h.children).filter(function(a){return!a.hasAttribute("data-tombstone")}).length;this.ca=Math.max(bb(b,1),c);this.H="ascending"===this.element.getAttribute("sort");W(this,!1);X(this.h,function(a){a.classList.add("amp-live-list-item")});this.C=fb(this,
this.h,!0);this.registerDefaultAction(this.X.bind(this),"update");this.element.hasAttribute("aria-live")||this.element.setAttribute("aria-live","polite")};k.hasCustomSlot=function(){return!!this.m};k.isEnabled=function(){return!this.element.hasAttribute("disabled")};k.toggle=function(a){a?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","")};
k.update=function(a){var b=this,c=eb(this,a);if(!c)return this.F;fb(this,c);var d=gb(this,c);hb(this,d.insert);ib(this,d.replace);this.D.push.apply(this.D,d.tombstone);this.R=O(a,"pagination");0<this.J.length?(this.element.hasAttribute("auto-insert")&&this.X(),this.mutateElement(function(){W(b,!0);b.B.updateFixedLayer()})):(0<this.w.length||0<this.D.length)&&this.X();return this.F};
k.X=function(){var a=this,b=0<this.J.length,c=0<this.D.length,d=0<this.w.length,e=b||d,f=this.mutateElement(function(){var d=y().assertElement(a.h);b&&(X(d,function(a){a.classList.remove("amp-live-list-item-new")}),a.C+=jb(a,a.J),a.J.length=0);0<a.w.length&&(kb(d,a.w),a.w.length=0);0<a.D.length&&(a.C-=lb(d,a.D),a.D.length=0);(b||c)&&a.P&&a.R&&(a.element.replaceChild(a.R,a.P),a.P=O(a.element,"pagination"));W(a,!1);a.R=null;return mb(a,d)});e&&(f=f.then(function(){var b=a.win.document.createEvent("Event");
b.initEvent("amp:dom-update",!0,!0);a.h.dispatchEvent(b)}));b&&!this.element.hasAttribute("disable-scrolling")&&(f=f.then(function(){var b=a.H&&a.h.lastElementChild?a.h.lastElementChild:a.element;return a.B.animateScrollIntoView(b,a.H?"bottom":"top")}));return f};function W(a,b){a.Y.classList.toggle("amp-hidden",!b);a.Y.classList.toggle("amp-active",b)}
function jb(a,b){var c=0;b.forEach(function(b){if(0===a.h.childElementCount)a.h.appendChild(b);else{var d=Y(b);if(0<d)if(a.H)for(var f=a.h.lastElementChild;f;f=f.previousElementSibling){var g=Y(f);if(0<g)if(d>=g){a.h.insertBefore(b,f.nextElementSibling);c++;break}else if(!f.previousElementSibling){a.h.insertBefore(b,f);c++;break}}else for(f=a.h.firstElementChild;f;f=f.nextElementSibling){var h=Y(f);if(0<h)if(d>=h){a.h.insertBefore(b,f);c++;break}else if(!f.nextElementSibling){a.h.appendChild(b);c++;
break}}}});return c}function kb(a,b){var c=0;b.forEach(function(b){var d=b.getAttribute("id"),f=a.querySelector("#"+d);f&&(a.replaceChild(b,f),c++)})}function lb(a,b){var c=0;b.forEach(function(b){b=b.getAttribute("id");if(b=a.querySelector("#"+b))b.setAttribute("data-tombstone",""),b.textContent="",c++});return c}
function mb(a,b){var c=a.C-a.ca;if(1>c)return Promise.resolve();var d=[],e=[];if(a.H)for(var f=b.firstElementChild;f&&!(d.length>=c);f=f.nextElementSibling)f.hasAttribute("data-tombstone")||d.push(f);else for(f=b.lastElementChild;f&&!(d.length>=c);f=f.previousElementSibling)f.hasAttribute("data-tombstone")||d.push(f);return a.getVsync().runPromise({measure:function(){for(var b=0;b<d.length;b++){var c=d[b];if(a.H){if(!(a.B.getLayoutRect(c).bottom<a.B.getScrollTop()))break}else if(!(a.B.getLayoutRect(c).top>
a.B.getScrollTop()+a.B.getSize().height))break;e.push(c)}},mutate:function(){e.forEach(function(c){b.removeChild(c);a.C--})}})}function hb(a,b){b.sort(a.ga).forEach(function(a){a.classList.add("amp-live-list-item");a.classList.add("amp-live-list-item-new")});a.J.push.apply(a.J,b)}
function ib(a,b){b.forEach(function(b){a:{var c=a.w;for(var e=0;e<c.length;e++)if(c[e].getAttribute("id")==b.getAttribute("id")){c=e;break a}c=-1}var f=c;b.classList.add("amp-live-list-item");-1==f?a.w.push(b):a.w[f]=b})}k.getInterval=function(){return this.da};
function gb(a,b){var c=[],d=[],e=[];for(b=b.firstElementChild;b;b=b.nextElementSibling){var f=b.getAttribute("id"),g=Y(b);if(f&&0<g){var h=a,l=b,p=l.getAttribute("id");if(l.hasAttribute("data-tombstone")||p in h.o)if(h=a,p=b,!p.hasAttribute("data-update-time")||p.hasAttribute("data-tombstone")?h=!1:(l=p.getAttribute("id"),p=Z(p),h=l in h.o&&-1!=h.o[l]&&p>h.o[l]),h){var B=Z(b);a.o[f]=B;f=a.win.document.importNode(b,!0);B>a.F&&(a.F=B);d.push(f)}else b.hasAttribute("data-tombstone")&&-1!=a.o[f]&&(a.o[f]=
-1,e.push(b));else f=a.win.document.importNode(b,!0),c.push(f),nb(a,b)}}return{insert:c,replace:d,tombstone:e}}function nb(a,b){var c=b.getAttribute("id");b=Z(b);b>a.F&&(a.F=b);a.o[c]=b}function fb(a,b,c){var d=0;X(b,function(b){b.hasAttribute("id")&&0<Y(b)&&(d++,c&&nb(a,b))});return d}function X(a,b){for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)}function db(a,b){return a.m?b.id===a.m?b:a.win.document.getElementById(a.m):O(b,"update")}
function eb(a,b){return a.m?b.id===a.m?b:a.win.document.getElementById(a.m):O(b,"items")}k.la=function(a,b){return Y(a)-Y(b)};function Y(a){return Number(a.getAttribute("data-sort-time"))}function Z(a){return a.hasAttribute("data-update-time")?Number(a.getAttribute("data-update-time")):Y(a)}k.getUpdateTime=function(){return this.F};
(function(a){a.registerElement("amp-live-list",T,"amp-live-list>[update]{position:relative;z-index:1000}amp-live-list>.amp-active[update]{display:block}amp-live-list>[items]>[data-tombstone]{display:none}@keyframes amp-live-list-item-highlight{0%{box-shadow:0 0 5px 2px #51cbee}to{box-shadow:0}}\n/*# sourceURL=/extensions/amp-live-list/0.1/amp-live-list.css*/");a.registerServiceForDoc("liveListManager",Wa)})(self.AMP);
})});

//# sourceMappingURL=amp-live-list-0.1.js.map
